<?php
/*
 * @version $Id: Pont V7.2 2021-04-09 szathmari.hu $
 * @copyright Copyright (C) 2021 szathmari.hu - All rights reserved.
 * @license commerical
 * @url https://szathmari.hu
*/
 goto pAa2o; TgY2z: function export_fox($order_ids) { goto CBrjo; OcBVh: SAyq9: goto AZ6eo; knrmI: $csomag->init(); goto gxj1H; AZ6eo: return $exp; goto F3S5j; kQaG1: return; goto CwfeJ; fHsYQ: $sent = array(); goto Zv9sR; PpN5t: $exp = 0; goto fHsYQ; XelZN: if (!($exp > 0)) { goto SAyq9; } goto Xl1Hx; CBrjo: WC_Pont::log("\x45\x78\160\x6f\x72\x74\40\x63\141\x72\x72\x69\145\162\x3a\x20\x66\x6f\170\40\163\164\x61\162\x74" . "\40\157\x72\144\x65\x72\40\151\144\x73\x3a\40" . json_encode($order_ids, JSON_UNESCAPED_UNICODE), "\x69\x6e\x66\x6f"); goto zhybx; Zv9sR: foreach ($order_ids as $order_id) { goto dbVsJ; qDQ4N: n36nc: goto wm7Ob; iCbTa: $csomag->recipientName = $order->get_shipping_last_name() . "\x20" . $order->get_shipping_first_name(); goto ZYRcs; QMxyR: $params = array("\x74\151\x6d\145\x6f\165\164" => 10, "\x68\x74\x74\160\166\145\x72\163\x69\x6f\x6e" => "\61\x2e\x31", "\142\157\144\171" => json_encode($cs), "\150\145\x61\144\x65\x72\x73" => array("\101\x63\143\145\160\164" => "\141\160\160\154\x69\143\x61\164\151\x6f\156\57\152\x73\x6f\156", "\x43\157\156\164\x65\156\x74\55\124\171\x70\x65" => "\x61\x70\x70\154\x69\143\x61\x74\151\x6f\156\x2f\x6a\163\157\156", "\101\165\164\150\x6f\x72\151\x7a\141\x74\151\x6f\x6e" => "\102\x61\x73\x69\x63\40" . base64_encode($csomag->username . "\72" . $csomag->password))); goto r5363; JF_Un: goto QENDg; goto I0nz8; KrmAS: $csomag->parcelType = "\x61\160\164"; goto ib5_s; ydew3: goto sx1qp; goto frm78; wMBZk: $respcode = wp_remote_retrieve_response_code($resp); goto uHDRE; wm7Ob: if (isset($resp->error) && 0 === $resp->error && isset($resp->items[0]) && 0 === $resp->items[0]->error) { goto Hy1lG; } goto jDKrJ; axrj_: $cs["\151\x74\145\x6d\x73"][0] = $csomag; goto QMxyR; p5yBb: if (!($csomag->setDOP($p, $csomag) === false)) { goto OrXwA; } goto QG7qg; CQZCW: if (!is_wp_error($resp)) { goto n36nc; } goto zaXl2; gsGky: $csomag->parcelType = "\150\x6f\x6d\145\137\144\145\154\x69\166\145\162\171"; goto JF_Un; BCaXE: $p = explode("\x7c", get_post_meta($order_id, "\x77\143\137\163\145\x6c\x65\143\164\x65\x64\137\160\157\x6e\x74", true)); goto JX2Lw; h9EFw: WC_Pont::log("\x45\170\x70\157\162\164\72\40\120\141\x72\143\145\154\x20\x64\x6f\x6e\x65" . "\40\157\162\x64\x65\x72\x20\x69\144\x3a\x20" . $order_id . "\x20\x70\141\162\143\x65\154\x3a\40" . json_encode($csomag, JSON_UNESCAPED_UNICODE), "\x69\156\x66\x6f"); goto axrj_; EYg8F: $csomag->extraServiceLabelPrint = 0; goto rk_NP; x23pG: $exp++; goto aOxQy; VAyRo: sx1qp: goto b5pQA; BNj5a: WC_Pont::st_array("\x70\x6f\x6e\164\x5f\x65\x72\x72\x6f\x72\x73", $order_id, __("\103\163\157\155\x61\147\40\150\151\142\141", "\x77\143\55\160\x6f\x6e\x74") . "\x3a\40" . $resp->message . "\40" . $resp->errorMessage); goto KvJ2R; b5pQA: OFU3M: goto WiTzT; zZaIM: goto S0mBR; goto O0rvr; I0nz8: qGVY1: goto BCaXE; gm55r: $csomag->uniqueReferenceCode = (string) $order_id; goto w90u2; r5363: WC_Pont::log("\x45\170\x70\x6f\162\164\x20\120\141\162\x63\145\x6c\40\x70\x61\162\141\x6d\163" . "\x20\157\x72\x64\x65\162\x20\151\144\x3a\x20" . $order_id . "\x20\x70\x61\x72\x63\x65\x6c\72\x20" . json_encode($params, JSON_UNESCAPED_UNICODE), "\151\x6e\146\x6f"); goto lR3np; JX2Lw: if (strpos($p[1], WC_Pont::$carriers["\146\157\170"]) !== false) { goto MJD1c; } goto OzVdy; ZYRcs: $csomag->recipientAddress = $order->get_shipping_address_1() . "\40" . $order->get_shipping_address_2(); goto FDaJk; qal9y: $csomag->senderOwnData = ''; goto EYg8F; CFUtf: do_action("\x77\157\x6f\143\x6f\x6d\155\x65\162\x63\x65\x5f" . "\x77\143\137\160\157\156\x74" . "\137\x65\170\160\x6f\x72\x74\x5f\146\157\x78\137\144\141\x74\141", $csomag, $order); goto h9EFw; QG7qg: WC_Pont::st_array("\x70\x6f\156\x74\x5f\x65\x72\162\x6f\x72\163", $order->get_order_number(), __("\xc3\201\x74\x76\145\166\xc5\221\160\x6f\x6e\164\x20\x6e\x65\155\x20\164\141\x6c\303\xa1\154\150\x61\164\303\263\x3a", "\x77\x63\x2d\x70\157\x6e\164") . "\40" . $p[2]); goto LzCg_; uHDRE: $resp = json_decode(wp_remote_retrieve_body($resp)); goto CQZCW; p26ig: WC_Pont::log("\105\170\x70\157\162\x74\x20\162\x65\147\40\x72\x65\x73\160\x6f\156\x73\145" . "\x20\157\162\144\145\x72\40\151\144\72\40" . $order_id . "\x20\162\145\163\160\x6f\x6e\163\x65\40\143\x6f\x64\145\40\x3a" . $respcode . "\x20\x72\145\x73\160\x6f\156\163\x65\x3a\40" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\151\156\x66\157"); goto x23pG; WkHnh: MJD1c: goto p5yBb; lR3np: $resp = wp_remote_post("\150\164\164\x70\x73\72\x2f\57\x61\x70\151\56\x63\163\157\155\x61\x67\166\x61\x72\x61\172\163\154\x6f\56\x68\165\x2f\x76\62\x2f\160\141\x72\x63\145\154\x2f\155\141\163\163\55" . $action, http_build_query($params)); goto wMBZk; zaXl2: WC_Pont::log("\x45\170\x70\x6f\162\164\40\x50\141\x72\x63\145\x6c\x20\x69\155\160\157\x72\164" . "\40\x6f\x72\144\145\162\40\x69\144\x3a\40" . $order_id . "\40\x72\145\x73\x70\x6f\x6e\x73\145\72\40" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\145\162\162\x6f\162"); goto H3ljb; ib5_s: $csomag->parcelSizeId = empty(get_post_meta($order_id, "\x70\x61\143\153\141\147\145\x5f\x73\x69\172\x65")) ? get_option("\167\x63\137\160\x6f\x6e\164\x5f\x66\x6f\x78\137\x73\x69\x7a\x65", "\x4d") : get_post_meta($order_id, "\x70\141\143\x6b\141\147\145\137\163\x69\x7a\x65", true); goto cabgb; unMDJ: update_post_meta($order->get_order_number(), "\146\x6f\170\137\163\164\x61\164\x75\163", "\x72\145\161\162\145\147"); goto VAyRo; n44VS: goto OFU3M; goto ehSbT; f7QDf: S0mBR: goto vH_tm; ZCP2Z: QENDg: goto CFUtf; GMPP5: OrXwA: goto nZa8M; w90u2: if ("\143\157\144" === $order->get_payment_method()) { goto bo0yu; } goto Tu6tj; dbVsJ: $order = wc_get_order($order_id); goto xlBNg; XrZch: $action = "\143\162\145\141\164\x65\x2d\x70\x61\x72\x63\145\x6c"; goto UqLX9; RDlnI: $csomag->cashOnDeliveryMoney = (int) $order->get_total(); goto f7QDf; rk_NP: $csomag->extraServiceFragile = 0; goto gm55r; xlBNg: $sMethod = $order->get_shipping_methods(); goto MgJRA; O0rvr: bo0yu: goto RDlnI; MFFXg: goto OFU3M; goto aDlcv; i6SKw: $csomag->recipientPhone = formatPhone($order->get_billing_phone()); goto KrmAS; aOxQy: set_transient("\x70\x6f\x6e\164\x5f\143\x61\162\162\x69\x65\162", "\x66\157\170", 5 * MINUTE_IN_SECONDS); goto lxtow; H3ljb: WC_Pont::st_array("\x70\157\x6e\164\137\x65\162\x72\x6f\162\x73", $order_id, __("\103\163\x6f\x6d\x61\147\xc3\xa1\x74\x76\151\164\145\154\x69\x20\160\x72\x6f\x62\x6c\xc3\251\x6d\141", "\167\x63\x2d\160\x6f\156\164") . "\x3a\x20" . json_encode($resp)); goto XQBEb; ehSbT: goto M1Fwz; goto WkHnh; lxtow: $sent[] = $order_id; goto unMDJ; aDlcv: WUERK: goto XrZch; CMbB6: if (!(strpos($sMethod["\x6d\x65\164\x68\157\144\137\x69\144"], "\154\157\x63\x61\x6c\137\x70\x69\x63\x6b\165\160") !== false)) { goto WUERK; } goto poMnE; nZa8M: M1Fwz: goto ZCP2Z; FDaJk: $csomag->recipientCity = $order->get_shipping_city(); goto JQy_5; cabgb: $csomag->recipientRemark = !empty($order->get_customer_note()) ? $order->get_customer_note() : ''; goto qal9y; vH_tm: $pont = get_post_meta($order_id, "\167\143\137\163\x65\x6c\145\x63\164\145\144\x5f\160\157\x6e\164", true); goto l1MG7; MgJRA: $sMethod = reset($sMethod); goto CMbB6; KRavS: $csomag->recipientEmail = $order->get_billing_email(); goto i6SKw; frm78: Hy1lG: goto p26ig; jDKrJ: WC_Pont::log("\105\170\x70\157\162\164\x20\162\145\147\x20\x72\145\163\160\x6f\x6e\163\145" . "\40\157\162\x64\x65\162\x20\x69\x64\x3a\x20" . $order_id . "\40\x72\x65\x73\x70\157\156\x73\x65\72\x20" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\x65\162\x72\x6f\x72"); goto BNj5a; KvJ2R: goto OFU3M; goto ydew3; LzCg_: goto OFU3M; goto GMPP5; Tu6tj: $csomag->cashOnDeliveryMoney = ''; goto zZaIM; JQy_5: $csomag->recipientZipCode = (int) $order->get_shipping_postcode(); goto KRavS; l1MG7: if ($pont) { goto qGVY1; } goto gsGky; poMnE: WC_Pont::st_array("\x70\157\x6e\x74\137\145\162\x72\x6f\162\x73", $order->get_order_number(), __("\x52\145\x6e\x64\145\x6c\xc3\xa9\163\40\156\x65\155\40\153\145\162\xc3\xbc\x6c\164\x20\164\157\x76\303\241\142\x62\303\255\164\303\241\x73\162\141\54\40\x73\x7a\x65\155\303\251\x6c\171\x65\163\40\xc3\xa1\164\x76\xc3\251\164\145\154\154\145\x6c\40\153\xc3\xa9\x72\x74\x65", "\x77\x63\55\160\157\x6e\164")); goto MFFXg; OzVdy: WC_Pont::st_array("\x70\x6f\x6e\x74\137\x65\x72\162\x6f\x72\x73", $order->get_order_number(), sprintf(__("\101\40\162\x65\156\x64\x65\154\xc3\xa9\163\164\40\45\163\40\x73\172\303\241\154\154\xc3\xad\164\xc3\xa1\x73\163\141\154\40\153\303\251\x72\x74\x65", "\x77\143\x2d\x70\x6f\x6e\164"), $p[1])); goto n44VS; UqLX9: $csomag->apiExternalId = $order_id; goto iCbTa; XQBEb: goto OFU3M; goto qDQ4N; WiTzT: } goto i38Is; CwfeJ: D_3VR: goto PpN5t; gxj1H: if (!(empty($csomag->username) || empty($csomag->password))) { goto D_3VR; } goto axsFj; axsFj: WC_Pont::st_array("\160\x6f\156\x74\137\x65\162\x72\x6f\x72\163", "\x46\157\170\x70\157\x73\164", __("\116\x65\x6d\x20\141\144\164\x61\x64\x20\x6d\145\x67\x20\141\172\x20\x41\x50\x49\x20\150\x61\163\172\156\xc3\241\154\x61\164\xc3\241\x68\x6f\x7a\x20\163\x7a\xc3\xbc\x6b\x73\303\xa9\147\x65\163\x20\141\x7a\157\156\157\163\303\xad\164\303\263\x74", "\x77\143\55\160\157\x6e\164")); goto nbrKK; Xl1Hx: set_transient("\160\x6f\156\x74\x5f\x66\x6f\170\137\x72\x65\x67", $sent, 5 * MINUTE_IN_SECONDS); goto OcBVh; i38Is: MfcY8: goto XelZN; zhybx: $csomag = new fox(); goto knrmI; nbrKK: WC_Pont::log("\105\170\160\157\162\x74\x3a\x20\125\x73\145\x72\156\x61\x6d\145\x20\141\x6e\144\40\x70\x61\x73\x73\x77\x6f\162\144\40\141\x72\x65\x20\162\145\x71\x75\151\162\145\144" . "\145\x72\162\157\162"); goto kQaG1; F3S5j: } goto IA52w; pAa2o: class fox { public $username; public $password; function init() { goto h7XHM; yA0jw: $this->password = get_option("\x77\x63\137\160\x6f\156\164\x5f\x66\157\x78\137\160\141\163\163\167\x6f\162\144"); goto K1nFb; h7XHM: if (empty(get_option("\167\143\137\160\x6f\156\x74\x5f\146\x6f\x78\x5f\165\163\x65\x72\156\141\x6d\x65"))) { goto AFhab; } goto CuXWl; CuXWl: $this->username = get_option("\167\143\137\x70\157\156\x74\x5f\x66\x6f\x78\137\165\163\145\x72\x6e\x61\x6d\145"); goto vl9Yn; vl9Yn: AFhab: goto yA0jw; K1nFb: } function setDOP($pont, $csomag) { goto wzLQ1; ZsZ40: return true; goto N5qqY; N5qqY: hTHJR: goto MVugT; LYtaT: $csomag->aptIdentifier = $p[$id]["\x69\144"]; goto ZsZ40; PBO6c: if (!is_array($p[$id])) { goto hTHJR; } goto LYtaT; Up5yg: return false; goto cBTRd; wzLQ1: $p = json_decode(file_get_contents(WC_Pont::$plugin_path . "\x66\157\x78\x70\x6f\156\164\56\x6a\163\157\156"), true); goto ZbzPC; cBTRd: xShOC: goto PBO6c; eMgJ3: if (!($id === false)) { goto xShOC; } goto Up5yg; ZbzPC: $id = array_search($pont[2], array_column($p, "\x69\x64")); goto eMgJ3; MVugT: } } goto TgY2z; HaeL6: function get_fox_tracking_info_web($pn, $order_id) { goto Ukbfo; z0Zvi: WC_Pont::log("\x54\162\141\x63\153\x69\x6e\147\40" . "\40\162\145\163\x70\157\156\163\145\x3a\x20" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\145\162\162\x6f\x72"); goto eYYLU; OO6wc: NWBGF: goto npGOC; zf26k: set_transient("\x70\157\x6e\x74\137\164\141\143\153\151\x6e\147\137" . $pn, $tracking, 15 * MINUTE_IN_SECONDS); goto etroV; GZkqQ: return array(sprintf("\74\x61\40\143\154\x61\163\x73\x3d\x22\x66\157\x78\40\x25\x73\42\40\x74\141\x72\x67\145\x74\75\42\x5f\x62\154\141\x6e\x6b\x22\x20\164\151\164\x6c\145\x3d\x22\x25\x73\x22\40\150\x72\x65\x66\75\x22\x25\163\42\x20\x64\x61\164\x61\x2d\151\x6e\x66\x6f\x3d\x22\106\157\x78\x70\x6f\163\164\x22\76\45\x73\x3c\x2f\x61\x3e", "\145\x72\x72\x6f\x72", $tracking->date . "\x20" . $tracking->location, $url, $tracking->event), $tracking->code); goto OO6wc; eYYLU: $tracking = (object) ["\144\141\164\145" => date("\131\55\x6d\55\144\40\110\x3a\151", current_time("\x74\151\155\x65\x73\x74\141\155\x70")), "\143\x6f\144\145" => 0, "\x63\141\x74\145\x67\157\162\171" => '', "\x65\x76\x65\156\164" => __("\x46\x6f\170\160\157\x73\164\40\x76\303\241\154\x61\x73\172\x61", "\x77\143\55\x70\x6f\156\164") . "\72\40" . wp_remote_retrieve_response_message($resp), "\154\157\143\x61\164\x69\157\x6e" => str_replace("\124", "\40", wp_remote_retrieve_response_message($resp))]; goto h5JtC; Sh2ad: $tracking = (object) ["\x64\141\x74\x65" => date("\x59\55\x6d\x2d\144\40\x48\72\151", current_time("\164\151\155\x65\x73\x74\141\155\160")), "\x63\157\x64\145" => 0, "\x63\x61\164\145\147\157\x72\x79" => '', "\x65\166\x65\x6e\164" => __("\x4e\145\x6d\x20\164\x61\x6c\xc3\241\x6c\x68\141\164\xc3\263", "\167\143\x2d\x70\x6f\x6e\164"), "\x6c\x6f\x63\141\x74\151\x6f\x6e" => '']; goto ycRcM; RCvgS: $time = date("\x48\72\x69\x3a\163", $timeout - time()); goto sw9JO; GH0YS: $tracking = (object) ["\144\x61\x74\x65" => date("\131\x2d\155\55\x64\40\x48\72\151", current_time("\x74\151\155\145\x73\164\x61\155\x70")), "\143\x6f\x64\145" => 0, "\143\x61\x74\145\147\x6f\x72\171" => '', "\145\x76\x65\x6e\x74" => __("\x46\157\x78\160\x6f\163\164\40\166\303\xa1\154\141\163\172\141", "\167\x63\55\x70\x6f\156\x74") . "\x3a\x20" . wp_remote_retrieve_response_message($resp), "\x6c\157\x63\x61\x74\151\x6f\x6e" => str_replace("\124", "\x20", wp_remote_retrieve_response_message($resp))]; goto zf26k; dsN5d: if (!$tracking) { goto AxNQw; } goto G17vE; fCWjn: WC_Pont::log("\124\162\x61\143\x6b\151\156\147\40\146\x6f\x78\x20\167\145\142" . "\x20\124\162\x61\143\153\x69\156\x67\40\x75\x72\154\x3a\x20" . $url, "\151\x6e\146\157"); goto dyEoH; Upwpm: $status = (string) $status[0]; goto QerTL; ONqZB: $doc = new DOMDocument(); goto x0bpv; sw9JO: WC_Pont::log("\106\157\x78\x20\x74\x72\141\x63\153\x69\x6e\147\x20\x64\x61\164\x61\x20\142\x79\x20\x74\x72\141\156\163\151\145\156\x74\x2e\40\x54\x72\141\143\153\x69\156\147\40\x6e\165\155\x62\145\162\x3a\40" . $pn . "\117\162\x64\145\x72\x20\x69\x64\x3a\x20" . $order_id . "\x20\x74\151\155\145\x3a\40" . $time, "\x69\x6e\146\157"); goto kY6lO; yc7fn: return array(sprintf("\74\141\40\x63\x6c\x61\x73\163\x3d\x22\x66\157\x78\40\x25\163\x22\x20\x74\141\162\147\x65\x74\x3d\42\137\x62\154\x61\x6e\x6b\42\x20\164\151\x74\154\145\x3d\42\x25\x73\x22\40\x68\x72\x65\x66\75\42\45\163\x22\x20\144\141\164\141\x2d\151\x6e\x66\157\x3d\42\x46\x6f\x78\x70\x6f\163\x74\42\x3e\45\163\x3c\x2f\x61\x3e", "\145\162\x72\157\x72", $tracking->date, $url, $tracking->event), $tracking->code); goto sxbBK; wAdet: AxNQw: goto fCWjn; iF2NC: $status = $s->xpath("\57\57\x6c\x69\x5b\100\x63\154\141\x73\x73\75\42\160\x61\x72\143\145\x6c\55\x73\164\141\x74\165\163\55\151\164\145\x6d\x73\137\137\x6c\x69\x73\x74\55\x69\x74\145\x6d\x22\135\x5b\x6c\x61\163\x74\50\51\x5d\x2f\x2f\x73\160\141\x6e\133\100\143\154\x61\163\163\x3d\x22\160\x61\162\x63\145\154\55\x73\x74\141\164\x75\x73\55\151\164\x65\155\x73\x5f\x5f\154\x69\x73\x74\55\x69\164\145\x6d\55\x74\x69\164\x6c\x65\42\x5d"); goto FBN6Q; dyEoH: $resp = wp_remote_get($url); goto sXPIR; yG4C0: set_transient("\x70\x6f\156\x74\137\x74\x61\x63\153\151\x6e\147\137" . $pn, $tracking, 60 * MINUTE_IN_SECONDS); goto RGPPc; sXPIR: if (!(is_wp_error($resp) || wp_remote_retrieve_response_code($resp) > 202)) { goto NWBGF; } goto z0Zvi; wQKfH: $tracking = get_transient("\x70\x6f\156\x74\x5f\164\x61\143\153\151\x6e\x67\137" . $pn); goto dsN5d; ycRcM: set_transient("\160\157\156\x74\x5f\164\141\x63\153\x69\156\x67\x5f" . $pn, $tracking, 15 * MINUTE_IN_SECONDS); goto yc7fn; lKx5B: $d = $s->xpath("\x2f\x2f\154\x69\133\x40\143\154\141\163\163\75\x22\x70\141\162\143\145\154\x2d\163\x74\x61\164\x75\163\x2d\151\x74\x65\x6d\163\137\x5f\154\151\x73\164\55\x69\x74\x65\155\42\135\133\x6c\141\x73\164\x28\x29\135\57\x2f\x73\160\x61\156\133\x40\x63\x6c\x61\163\163\x3d\42\x70\141\x72\143\x65\x6c\x2d\163\x74\x61\164\165\163\55\x69\x74\x65\155\163\x5f\137\x6c\151\x73\x74\x2d\x69\x74\145\x6d\55\x64\x61\x74\145\x22\135"); goto iF2NC; npGOC: $html = wp_remote_retrieve_body($resp); goto ONqZB; I6o9D: return array(sprintf("\x3c\141\x20\143\x6c\141\x73\x73\75\x22\146\x6f\170\x20\x73\x25\163\42\x20\164\141\162\147\145\164\x3d\42\137\142\154\141\156\x6b\x22\40\164\151\164\154\145\75\42\45\x73\42\40\x68\x72\145\x66\75\x22\x25\163\42\x20\144\x61\x74\141\x2d\x69\x6e\146\157\x3d\x22\x46\x6f\170\160\157\x73\164\x22\76\45\x73\x3c\x2f\141\76", $tracking->code, $tracking->date . "\40" . $tracking->location, $url, $tracking->event), $tracking->code); goto CYMyo; dZjR6: uAxqp: goto lQPhf; sxbBK: iKpC1: goto Upwpm; XO7Nc: WC_Pont::log("\x54\x72\141\x63\153\x69\x6e\147\x20\x66\157\170\40\110\124\x4d\114\x20\145\x72\x72\157\x72" . "\x20\162\x65\163\160\157\156\x73\145\x3a\x20" . wc_print_r($html, true), "\x65\162\162\157\162"); goto GH0YS; G17vE: $timeout = get_option("\137\164\162\141\x6e\163\151\x65\x6e\164\x5f\164\151\155\x65\x6f\x75\x74\137" . "\160\x6f\x6e\x74\137\x74\141\143\153\151\x6e\x67\x5f" . $pn); goto RCvgS; h5JtC: set_transient("\160\157\x6e\x74\137\x74\141\x63\x6b\x69\156\x67\137" . $pn, $tracking, 15 * MINUTE_IN_SECONDS); goto GZkqQ; lQPhf: $s = simplexml_import_dom($doc); goto lKx5B; Ukbfo: $url = "\x68\x74\x74\x70\163\72\x2f\57\x77\x77\167\x2e\x66\157\170\x70\x6f\163\164\x2e\x68\165\x2f\143\163\157\155\x61\x67\153\x6f\x76\x65\164\x65\163\77\143\157\x64\x65\75" . $pn; goto wQKfH; YITbC: $tracking = (object) ["\x64\x61\164\x65" => $d, "\x63\157\x64\x65" => $status, "\143\141\x74\x65\147\157\162\x79" => '', "\x65\x76\145\156\x74" => $status, "\x6c\157\143\x61\x74\151\157\156" => '']; goto yG4C0; QerTL: $d = (string) $d[0]; goto YITbC; etroV: return array(sprintf("\x3c\x61\x20\143\154\141\163\163\75\42\x66\157\170\40\45\163\x22\x20\164\141\162\147\x65\164\75\42\x5f\x62\x6c\x61\156\x6b\x22\40\x74\x69\164\x6c\x65\75\42\x25\163\42\40\150\162\145\146\x3d\42\45\163\42\40\144\x61\x74\141\x2d\151\156\x66\x6f\75\42\x46\x6f\170\160\157\163\x74\x22\76\x25\x73\x3c\57\141\76", "\145\162\x72\x6f\162", $tracking->date . "\x20" . $tracking->location, $url, $tracking->event), $tracking->code); goto dZjR6; RGPPc: update_post_meta($order_id, "\137\164\162\x61\x63\x6b\151\156\147\137\x64\x61\x74\x61", $tracking); goto I6o9D; idOZk: if ($doc) { goto uAxqp; } goto XO7Nc; x0bpv: libxml_use_internal_errors(true); goto PrgHT; FBN6Q: if (!empty($status)) { goto iKpC1; } goto Sh2ad; PrgHT: $doc->loadHTML($html); goto idOZk; kY6lO: return array(sprintf("\74\x61\40\143\154\x61\163\163\75\x22\x66\157\x78\40\x73\45\x73\42\40\164\141\x72\147\145\164\x3d\42\x5f\142\154\141\156\x6b\42\x20\164\x69\x74\154\x65\x3d\42\x25\163\x22\x20\x68\162\x65\146\x3d\x22\x25\163\42\40\144\x61\164\x61\55\151\156\146\157\75\42\x54\162\x61\156\163\x22\76\45\x73\74\57\x61\76", $tracking->code, $tracking->date . "\x20" . $tracking->location, $url, $tracking->event), $tracking->code); goto wAdet; CYMyo: } goto hwhA_; IA52w: function export_fox_print($order_ids) { goto rJBD0; LAXeh: $resp = wp_remote_post("\150\x74\x74\160\x73\72\x2f\57\x61\160\151\x2e\x63\163\x6f\x6d\x61\x67\166\141\162\141\x7a\x73\154\x6f\56\150\x75\57\x76\x32\x2f\160\141\x72\x63\145\x6c\x2f\155\x61\163\163\x2d" . $action, http_build_query($params)); goto OtOlh; LvLhB: $csomag->init(); goto N32nn; uLO3A: $sent = array(); goto mzuyo; N32nn: $action = "\143\x72\145\x61\x74\145\55\x73\x74\151\143\153\145\x72"; goto uLO3A; quyF0: foreach ($sent as $k) { goto WdP6k; X0bsN: a2sY5: goto c4yf6; YirhV: WC_Pont::st_array("\x70\157\x6e\164\137\145\162\162\x6f\x72\x73", $k, __("\x43\x73\x6f\x6d\x61\147\x20\150\x69\x62\141", "\x77\x63\x2d\x70\157\156\x74") . "\x3a\40" . $resp->errorMessage); goto fi6Nc; WdP6k: if ($o) { goto NoKEo; } goto YirhV; c4yf6: WnSbW: goto kq0vp; WZvuB: update_post_meta($k, "\146\157\170\137\163\164\141\x74\165\x73", "\x72\x65\x71\160\x72\151\x6e\164"); goto X0bsN; fi6Nc: goto a2sY5; goto IORrR; IORrR: NoKEo: goto WZvuB; kq0vp: } goto Uxc9w; HAPOj: return count($cs["\151\x74\145\x6d\163"]); goto DRwp2; VV92x: y0Iw_: goto ToH1X; paqjp: ixuXm: goto YJba2; GvzBx: if (isset($resp->error) && 0 === $resp->error && isset($resp->items[0]) && 0 === $resp->items[0]->error) { goto ITkT8; } goto Gg3Vf; KgvIh: WC_Pont::log("\x45\x78\x70\x6f\162\x74\40\146\x6f\170\x20\160\162\x69\x6e\x74" . "\x20\160\x61\162\x61\x6d\x73\72\40" . json_encode($params, JSON_UNESCAPED_UNICODE) . "\40\162\145\x73\x70\72\x20" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\151\x6e\146\157"); goto ta6F6; CnbtS: set_transient("\x70\157\x6e\164\137\x66\x6f\170\137\160\162\151\156\164", $sent, 5 * MINUTE_IN_SECONDS); goto I6IGt; ToH1X: $cs["\163\164\151\x63\x6b\x65\x72\x53\x69\172\145"] = get_option("\167\x63\x5f\x70\157\156\x74\137\146\x6f\170\137\163\x74\151\143\153\145\x72\x5f\163\151\172\x65", "\x41\67"); goto k6DXY; Uxc9w: asu2D: goto HAPOj; mzuyo: foreach ($order_ids as $order_id) { goto D3ByQ; elYkS: $sent[] = $order_id; goto KdAj_; KdAj_: Z4aDi: goto smEES; D3ByQ: $cs["\x69\x74\x65\x6d\163"][] = array("\x61\160\x69\105\170\164\145\x72\x6e\x61\154\x49\144" => $order_id, "\143\154\x66\157\x78\x49\144" => get_post_meta($order_id, "\163\150\x69\x70\160\151\156\147\x5f\x70\x61\162\143\x65\154\137\x6e\165\x6d\x62\x65\x72", true)); goto elYkS; smEES: } goto VV92x; urLvB: $csomag = new fox(); goto LvLhB; k6DXY: $params = array("\164\x69\155\x65\157\165\x74" => 10, "\150\164\x74\160\x76\145\162\x73\151\x6f\x6e" => "\61\56\61", "\142\157\144\171" => json_encode($cs), "\150\145\141\144\145\162\x73" => array("\x41\143\143\x65\160\164" => "\141\x70\160\x6c\x69\143\x61\164\x69\x6f\x6e\57\x6a\x73\157\156", "\103\157\x6e\x74\145\156\164\55\124\171\x70\x65" => "\141\x70\160\154\151\143\x61\x74\151\157\x6e\57\x6a\163\x6f\x6e", "\101\x75\x74\150\157\162\x69\x7a\141\x74\151\157\156" => "\x42\141\163\x69\x63\x20" . base64_encode($csomag->username . "\72" . $csomag->password))); goto LAXeh; jUlsM: WC_Pont::log("\x45\170\x70\x6f\162\x74\40\x70\x72\x69\156\164\40\x72\145\x73\x70\157\x6e\163\145" . "\x20\x6f\x72\144\x65\x72\40\x69\x64\72\40" . $order_id . "\x20\x72\x65\x73\x70\157\156\163\145\x3a\40" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\x65\x72\x72\157\162"); goto wax36; jU2tM: Nw2NU: goto paqjp; rJBD0: WC_Pont::log("\x45\x78\160\157\162\164\40\143\x61\162\162\151\x65\x72\72\x20\146\x6f\170\x20\x6c\x61\x62\x65\x6c" . "\x20\157\162\144\145\x72\40\151\x64\163\x3a\x20" . json_encode($order_ids, JSON_UNESCAPED_UNICODE), "\151\156\x66\x6f"); goto urLvB; uSIny: ITkT8: goto CnbtS; I6IGt: $o = 1; goto KgvIh; jUgGv: goto URr3U; goto uSIny; Gg3Vf: WC_Pont::log("\105\170\x70\157\x72\x74\40\x50\141\162\x63\145\x6c\40\151\155\160\x6f\162\164" . "\40\x6f\x72\144\x65\162\40\x69\144\72\x20" . implode("\54\40", $sent) . "\x20\x72\145\x73\x70\157\156\x73\x65\72\x20" . $resp->errorMessage, "\x65\x72\x72\157\162"); goto jUgGv; ta6F6: URr3U: goto quyF0; YJba2: $o = 0; goto GvzBx; A4by2: if (!is_wp_error($resp)) { goto ixuXm; } goto jUlsM; wax36: foreach ($sent as $k) { WC_Pont::st_array("\160\157\x6e\x74\x5f\x65\x72\162\x6f\x72\163", $k, __("\x43\163\157\x6d\x61\147\xc3\241\x74\x76\151\x74\x65\154\151\40\160\162\157\142\154\xc3\251\155\x61", "\167\x63\x2d\160\157\x6e\x74") . "\72\40" . json_encode($resp)); qMq2D: } goto jU2tM; OtOlh: $resp = json_decode(wp_remote_retrieve_body($resp)); goto A4by2; DRwp2: } goto w2Iw3; w2Iw3: function get_fox_tracking_info($pn) { goto BD7Hk; Avi8V: $resp = wp_remote_get($url, $args); goto uK_Mh; vrdqn: $resp = json_decode($resp["\142\x6f\x64\x79"]); goto SZ9Jc; jt8jj: WC_Pont::log("\x54\x72\141\x63\x6b\x69\x6e\x67\40" . "\x20\x72\x65\x73\160\157\156\163\x65\x3a\40" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\145\x72\x72\157\162"); goto y5jnY; oKQ66: WC_Pont::log("\124\162\x61\x63\x6b\151\x6e\x67\x20\146\157\170\40\163\164\141\x72\164" . "\x20\x54\162\141\143\x6b\151\156\147\x20\x63\x6f\144\x65\x3a\40" . $pn . "\40\x71\x75\145\x72\x79\72\40" . json_encode($args, JSON_UNESCAPED_UNICODE), "\151\156\x66\x6f"); goto Avi8V; CM5l4: $url = "\150\164\164\160\163\x3a\x2f\x2f\141\x70\x69\x2e\x63\163\x6f\x6d\x61\147\166\141\162\x61\172\163\x6c\x6f\x2e\x68\165\57\x76\62\57\160\141\x72\x63\x65\x6c\x2f\x76\151\145\x77\x3f\x63\x6c\x66\157\x78\x49\x64\75" . $pn; goto kqLGi; D34b9: Bu9kD: goto vrdqn; y5jnY: return array(sprintf("\x3c\141\x20\143\x6c\141\163\163\x3d\42\146\157\x78\x20\x73\x25\163\42\40\164\141\x72\147\x65\164\x3d\42\137\x62\154\141\x6e\x6b\x22\x20\x74\151\x74\154\145\x3d\42\x25\x73\42\x20\150\x72\145\146\x3d\42\45\x73\42\40\x3e\x25\163\74\57\141\76", __("\116\x69\156\143\163\40\x61\x64\141\164", "\x77\x63\55\x70\x6f\156\164"), str_replace("\124", "\40", wp_remote_retrieve_response_message($resp)), "\150\x74\164\160\163\72\57\x2f\x77\167\167\56\x66\x6f\x78\160\157\163\164\56\x68\x75\x2f\x63\x73\x6f\155\x61\x67\x6b\x6f\x76\145\x74\x65\163\77\143\157\x64\145\x3d" . $pn, __("\106\x6f\170\x70\x6f\163\x74\x20\166\xc3\241\x6c\x61\163\x7a\x61", "\167\x63\55\160\x6f\x6e\164") . "\72\40" . wp_remote_retrieve_response_message($resp)), 0); goto D34b9; BD7Hk: $csomag = new fox(); goto O6JJy; O6JJy: $csomag->init(); goto CM5l4; SZ9Jc: return array(sprintf("\74\141\x20\143\154\x61\x73\x73\75\42\146\157\x78\x20\163\45\x73\x22\40\x74\x61\162\147\x65\x74\x3d\x22\137\x62\154\x61\156\x6b\42\x20\164\151\x74\x6c\145\75\x22\45\163\42\x20\x68\162\x65\x66\x3d\42\45\163\x22\x20\x3e\x25\x73\74\x2f\141\x3e", $resp->status, $resp->statusText, "\150\x74\x74\x70\163\x3a\x2f\x2f\x77\167\x77\56\146\157\x78\x70\x6f\163\164\56\x68\165\x2f\x63\x73\x6f\155\141\x67\153\x6f\166\145\x74\x65\x73\77\x63\x6f\x64\145\75" . $pn, $resp->statusText), $resp->status); goto uqB88; uK_Mh: if (!(is_wp_error($resp) || wp_remote_retrieve_response_code($resp) > 202)) { goto Bu9kD; } goto jt8jj; kqLGi: $args = ["\150\145\141\x64\145\162\163" => ["\101\x63\x63\x65\x70\164" => "\141\x70\160\154\x69\143\x61\x74\151\157\x6e\57\x6a\163\157\x6e", "\x43\157\156\164\x65\x6e\164\x2d\x54\171\160\145" => "\141\x70\x70\x6c\151\x63\141\x74\x69\157\156\57\152\163\x6f\156", "\x41\165\164\x68\157\x72\151\172\141\x74\x69\157\x6e" => "\x42\141\163\151\143\40" . base64_encode($csomag->username . "\x3a" . $csomag->password)]]; goto oKQ66; uqB88: } goto HaeL6; hwhA_: function process_callback($answer) { goto bTuXq; GDGkj: file_put_contents(trailingslashit(WC_Pont::wc_pont_upload_dir()) . $filename . "\56\x70\x64\146", base64_decode($answer->attachments[0]->content)); goto viP90; oCN_g: $errors = ''; goto EG4ff; DbnYc: Yi6gH: goto m6Z5Y; qnjdI: update_post_meta($order_id, "\x66\x6f\170\137\163\164\141\164\x75\163", "\156\x6f\x74\x70\157\163\x74\x65\x64"); goto pC2IV; Khlzg: aZt2b: goto cFjmV; YfJzc: foreach ($answer->items[0]->validationErrors as $k => $v) { $errors .= $k . "\72\40" . implode("\54\x20", $v); WruGH: } goto UtXSz; en1HX: QPtTE: goto pzsZ2; U0n0T: if (!(isset($filenames) && is_array($filenames))) { goto HGJAG; } goto KcalK; uod0b: P2gPd: goto U0n0T; SpEO7: $order = new WC_Order($order_id); goto bGT8T; guUQC: goto j9hom; goto N4FsY; qOIJ1: zTlku: goto GGtlB; lxwUe: update_post_meta($order_id, "\x73\x68\x69\160\160\x69\x6e\147\x5f\143\141\162\162\151\145\162", "\146\x6f\x78"); goto qnjdI; MLWrG: goto VgEKG; goto Wyk0u; KcalK: $filename = date("\131\155\144\x2d\150\151\163") . "\55" . implode("\137", $filenames); goto GDGkj; ikMob: goto HSoe3; goto en1HX; aUwQn: vuQgv: goto hA_BK; UtXSz: h2hte: goto B60XA; fzjLF: WC_Pont::log("\x43\141\154\x6c\142\141\143\x6b\x20\106\157\x78\x9\x43\x72\x65\141\x74\145\40\120\x61\x72\x63\145\154" . "\40\x6f\x72\144\x65\162\x69\144\72\40" . $order_id . "\x20\143\x6c\146\157\170\151\144\72\x20" . $answer->items[0]->clfoxId . "\x20\x53\164\141\x74\x75\163\72\x20" . $answer->items[0]->statusText, "\151\x6e\x66\x6f"); goto uKtAz; bM1uR: HSoe3: goto qRcKB; cFjmV: foreach ($answer->items as $k) { goto IlUza; fChIX: WC_Pont::log("\x43\141\154\154\x62\x61\x63\153\x20\x46\x6f\x78\x9\x54\x72\x61\143\x6b\40\x70\x61\162\x63\145\154" . "\x20\x6f\162\x64\x65\x72\x69\x64\72\x20" . $order_id . "\x20\x53\164\x61\x74\x75\x73\72\40" . $k->statusText . "\40\144\141\x74\x65\x3a\40" . $k->statusDate . "\40\145\162\x72\x6f\x3a\40" . $k->error, "\151\156\146\157"); goto lUs36; yPpfS: $order = new WC_Order($order_id); goto GDHeT; IlUza: $order_id = $k->apiExternalId; goto yPpfS; lUs36: vsg_u: goto WpF2i; GDHeT: update_post_meta($k, "\146\x6f\170\137\x73\x74\141\x74\x75\x73", $k->statusText); goto fChIX; WpF2i: } goto KEKlC; GGtlB: if (isset($answer->attachments) && $answer->attachments[0]->mimeType == "\141\x70\160\x6c\x69\x63\141\164\151\x6f\156\x2f\160\x64\146") { goto QPtTE; } goto ohSTM; SYUCR: Jrqr8: goto sCs_n; UbzCo: if ($answer->webHookAction === "\155\141\163\163\x2d\x74\162\141\x63\x6b\55\x70\x61\x72\x63\x65\154") { goto aZt2b; } goto MLWrG; Z7UFz: if ($answer->webHookAction === "\143\x72\x65\x61\164\145\55\163\164\151\x63\153\x65\x72") { goto zTlku; } goto UbzCo; bGT8T: if ($answer->items[0]->error == 0) { goto KWVvE; } goto oCN_g; sCs_n: HGJAG: goto DwmOG; N4FsY: KWVvE: goto dtIDN; bTuXq: if ($answer->webHookAction === "\143\162\145\141\x74\145\x2d\160\141\162\143\145\x6c") { goto pwvgR; } goto Z7UFz; DwmOG: goto HSoe3; goto DbnYc; viP90: foreach ($filenames as $k) { update_post_meta($k, "\146\x6f\170\137\x70\144\146", $filename . "\56\160\x64\146"); PbpKX: } goto SYUCR; mKvn9: $order_id = $answer->items[0]->apiExternalId; goto SpEO7; KEKlC: qIdxT: goto z__XK; dtIDN: update_post_meta($order_id, "\x73\x68\x69\160\160\151\156\x67\137\x70\x61\x72\x63\145\154\x5f\156\x75\x6d\142\x65\x72", esc_attr($answer->items[0]->clfoxId)); goto lxwUe; Wyk0u: pwvgR: goto mKvn9; B60XA: $order->add_order_note(sprintf(__("\106\x6f\x78\120\x6f\163\164\x20\150\x69\x62\141\x20\x25\61\x24\163", "\167\x63\x2d\160\x6f\x6e\x74"), $errors)); goto aUwQn; pC2IV: $order->add_order_note(sprintf(__("\123\x7a\xc3\241\154\154\xc3\xad\x74\303\xa1\x73\x69\40\xc3\241\x6c\x6c\x61\160\157\x74\x3a\x20\156\145\155\x20\146\145\154\x61\x64\157\164\x74\56\x20\x46\157\170\120\x6f\163\164\40\141\172\x6f\x6e\x6f\163\303\xad\164\xc3\263\72\40\x25\x31\44\163\x2e", "\167\x63\55\160\157\156\x74"), $answer->items[0]->clfoxId)); goto fzjLF; m6Z5Y: WC_Pont::log("\103\x61\154\x6c\x62\141\x63\153\x20\106\x6f\x78\11\x4c\141\x62\145\x6c\40\x65\162\x72\x6f\x72" . "\x20\x6d\145\163\163\x61\x67\145\x3a\x20" . $answer->items[0]->message . "\40\x6f\162\144\145\162\151\144\x3a\x20" . $answer->items[0]->apiExternalId . "\x20\143\x6c\x66\x6f\x78\151\144\x3a\x20" . $answer->items[0]->clfoxId, "\145\162\162\157\x72"); goto bM1uR; z__XK: VgEKG: goto rCMzF; hA_BK: update_post_meta($order_id, "\x66\x6f\170\x5f\163\164\x61\164\165\163", $answer->items[0]->message . "\x20" . $errors); goto guUQC; FCvjn: goto VgEKG; goto qOIJ1; ohSTM: if ($answer->items[0]->error == 1) { goto Yi6gH; } goto ikMob; qRcKB: goto VgEKG; goto Khlzg; EG4ff: if (!isset($answer->items[0]->validationErrors)) { goto vuQgv; } goto YfJzc; uKtAz: j9hom: goto FCvjn; pzsZ2: foreach ($answer->items as $k) { goto xsdfo; y12cv: $filenames[] = $order_id; goto Mx4uA; g3ghd: H12Sa: goto S9bIh; HJTU1: $order = wc_get_order($order_id); goto TSta7; TSta7: if (!(0 === $k->error)) { goto XiGHi; } goto y12cv; xsdfo: $order_id = $k->apiExternalId; goto HJTU1; Vq9S5: $order->add_order_note(sprintf(__("\123\x7a\xc3\241\x6c\154\xc3\xad\x74\xc3\xa1\x73\x69\x20\143\303\xad\155\153\145\x20\156\x79\157\x6d\164\x61\x74\x76\141\40\45\163", "\x77\143\55\x70\157\156\x74"), $k->message)); goto HdXOv; Mx4uA: update_post_meta($order_id, "\146\157\x78\137\x73\x74\141\164\165\x73", "\x70\x72\x69\156\x74\145\144"); goto Vq9S5; HdXOv: WC_Pont::log("\x43\141\154\x6c\142\141\x63\153\40\106\157\170\11\103\x72\145\141\x74\145\x20\123\164\151\x63\153\x65\162" . "\40\157\x72\x64\x65\162\x69\144\72\x20" . $order_id . "\40\x63\x6c\x66\x6f\x78\x69\144\72\x20" . $k->clfoxId . "\40\123\164\141\x74\165\163\72\40" . $k->message, "\x69\x6e\x66\157"); goto IYJlC; IYJlC: XiGHi: goto g3ghd; S9bIh: } goto uod0b; rCMzF: }
