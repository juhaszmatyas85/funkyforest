<?php
/*
 * @version $Id: Pont V7.4 2021-06-16 szathmari.hu $
 * @copyright Copyright (C) 2021 szathmari.hu - All rights reserved.
 * @license commerical
 * @url https://szathmari.hu
*/
 goto g69Iv; LyPlV: return; goto cxeuz; M_GTb: function check_response($resp, $order_id) { goto FCmFj; OYHAQ: if (!(200 != $respcode)) { goto xodsJ; } goto kN9HS; O21GL: return $respcode; goto lk7Jn; EZ1ox: xodsJ: goto O21GL; NbzR7: WC_Pont::st_array("\160\157\x6e\x74\x5f\x65\x72\162\157\162\163", $order_id, __("\x48\x69\142\x61\40\164\xc3\266\x72\x74\xc3\xa9\x6e\x74\x2c\x20\162\303\251\163\172\x6c\x65\x74\x65\153\40\141\x20\150\x69\142\x61\156\141\x70\x6c\303\263\142\141\156\40\x23" . $respcode, "\x77\x63\x2d\160\157\156\164")); goto EZ1ox; FCmFj: $respcode = wp_remote_retrieve_response_code($resp); goto OYHAQ; kN9HS: WC_Pont::log("\120\157\x73\164\141\11\x72\145\x73\x70\x6f\156\163\x65\x3a\x20" . json_encode(array($resp), JSON_UNESCAPED_UNICODE), "\x65\162\x72\157\x72"); goto NbzR7; lk7Jn: } goto v0PW4; iykgt: function get_uuid() { goto rHvn7; PKDuC: return vsprintf("\x25\x73\45\163\x2d\45\163\x2d\x25\x73\x2d\45\x73\x2d\45\163\45\x73\45\163", str_split(bin2hex($data), 4)); goto AkY8y; rHvn7: $data = random_bytes(16); goto Yi_gG; Lij4A: $data[8] = chr(ord($data[8]) & 0x3f | 0x80); goto PKDuC; Yi_gG: $data[6] = chr(ord($data[6]) & 0xf | 0x40); goto Lij4A; AkY8y: } goto M_GTb; ewqIb: function get_contents($order) { goto Ky5Dp; Ky5Dp: $contents = array(); goto PuDM2; PuDM2: foreach ($order->get_items() as $key => $item) { goto Im693; rLiP8: E80TR: goto uhXbD; AbQBh: $contents[$key]["\161\x74\x79"] = $item["\161\x74\x79"]; goto rLiP8; QYD1H: $contents[$key]["\x73\153\x75"] = $product->get_sku(); goto AbQBh; lz27w: $contents[$key]["\156\x61\155\145"] = $product->get_name(); goto QYD1H; Im693: $product = $item["\x76\x61\x72\x69\x61\x74\x69\157\156\x5f\x69\144"] ? new WC_Product_Variation($item["\166\x61\162\x69\141\164\x69\x6f\x6e\137\151\144"]) : ($product = new WC_Product($item["\160\x72\157\144\165\143\164\x5f\x69\x64"])); goto lz27w; uhXbD: } goto ByuRY; ByuRY: stEBa: goto hdtGl; hdtGl: return $contents; goto b16k9; b16k9: } goto iGZwv; ZMCbG: if (is_admin()) { goto tDf6o; } goto LyPlV; iK4rY: function posta_shipments_close($params_body = "\173\175") { goto s2nEz; WyN0D: $pont_pdf2[] = $filename; goto CUcR6; a1EvH: $csomag->get_access(); goto MDco1; EX_Sm: $resp = json_decode(wp_remote_retrieve_body($resp)); goto uOF4G; aGaqd: $csomag->init(); goto a1EvH; e4771: if (!(200 != check_response($resp, 0))) { goto CQZud; } goto NwUmq; AsbDM: return; goto Av6se; q9GR2: file_put_contents(trailingslashit(WC_Pont::wc_pont_upload_dir()) . $filename, base64_decode($resp[0]->manifest)); goto WyN0D; lX1i3: $resp = wp_remote_post("\150\x74\164\160\163\x3a\57\x2f" . $csomag->env . "\x2e\141\x70\x69\56\x70\157\x73\x74\141\56\x68\165\x2f\x76\62\57\x6d\160\154\x61\160\151\57\163\150\x69\x70\x6d\145\x6e\x74\163\57\x63\154\157\163\145", http_build_query($params)); goto e4771; YhT15: $csomag = new posta(); goto aGaqd; uOF4G: $filename = date("\x59\x6d\144\x2d\110\x69\163") . "\x2d\x73\172\xc3\241\154\x6c\xc3\xad\164\303\263\x6c\x65\x76\303\xa9\x6c\56\160\144\146"; goto q9GR2; MDco1: $params = array("\x74\x69\155\145\x6f\x75\164" => 10, "\150\164\x74\x70\x76\x65\x72\163\151\x6f\156" => "\61\x2e\x31", "\x62\157\x64\x79" => $params_body, "\x68\145\x61\x64\x65\162\x73" => ["\x61\x63\143\145\160\164" => "\141\x70\160\x6c\x69\143\x61\164\x69\157\x6e\57\x6a\x73\x6f\x6e", "\103\157\156\x74\x65\156\x74\x2d\124\x79\x70\145" => "\x61\160\160\154\151\143\x61\x74\151\157\x6e\57\152\163\157\156", "\130\x2d\x52\145\x71\165\145\x73\x74\55\111\x64" => get_uuid(), "\x58\55\x41\143\143\x6f\x75\x6e\x74\151\156\x67\55\x43\x6f\x64\145" => $csomag->acc, "\x41\x75\x74\150\157\x72\x69\x7a\x61\x74\x69\157\x6e" => "\x42\x65\x61\x72\145\162\x20" . $csomag->access_token]); goto lX1i3; CUcR6: set_transient("\x70\x6f\156\x74\x5f\160\x64\x66\x32", $pont_pdf2, 5 * MINUTE_IN_SECONDS); goto vl0d7; s2nEz: WC_Pont::log("\120\157\x73\164\141\x9\x63\154\x6f\163\145\40\163\x68\x69\160\155\x65\x6e\x74\163", "\x69\x6e\146\x6f"); goto YhT15; NwUmq: WC_Pont::st_array("\x70\x6f\156\x74\x5f\145\x72\x72\157\162\x73", "\120\x6f\x73\x74\x61", __("\110\151\x62\x61\40\141\40\152\145\x67\171\x7a\303\xa9\x6b\x20\x7a\xc3\241\162\303\241\163\x61\40\x73\x6f\x72\303\241\x6e", "\167\143\55\160\x6f\156\x74") . "\72\40" . json_encode($resp->errors)); goto AsbDM; Av6se: CQZud: goto EX_Sm; vl0d7: } goto LX_wT; OIGCU: function tracking_data_html($pn, $tracking, $info) { return array(sprintf("\74\x61\40\x63\154\141\163\163\x3d\x22\x70\157\x73\164\141\x20\x73\x25\163\42\40\x74\141\162\x67\145\x74\75\x22\137\x62\x6c\x61\x6e\153\x22\x20\x74\x69\x74\154\145\x3d\x22\x25\163\x22\x20\x68\162\145\x66\x3d\42\45\163\42\x20\x64\x61\164\141\55\x69\156\146\157\x3d\x22\x25\163\x22\x3e\x25\163\74\x2f\x61\x3e", $tracking->category, $tracking->date . "\x20" . $tracking->location, sprintf(WC_Pont::$trk_urls["\x70\157\x73\x74\x61"], $pn), $info, $tracking->event), $tracking->code); } goto iykgt; iGZwv: function get_posta_shipments($pn = null) { goto GaDYw; FiND8: return null; goto kOroc; H7LHx: if (!(200 != $respcode)) { goto kUeY5; } goto JRFDC; zkaFN: $csomag->init(); goto muCcc; ym8F3: $csomag = new posta(); goto zkaFN; S2hB9: $limit = filter_input(INPUT_GET, "\x6c\x69\155\151\164", FILTER_VALIDATE_INT); goto n2ybU; myKtz: $table->prepare_items(); goto UvCNs; R5J3J: $params = array("\x74\x69\155\x65\x6f\165\164" => 20, "\150\x74\x74\x70\166\x65\162\x73\x69\x6f\x6e" => "\61\56\x31", "\x68\x65\x61\144\x65\x72\163" => ["\141\143\x63\x65\x70\x74" => "\141\x70\160\154\x69\x63\x61\x74\x69\157\156\57\152\x73\157\156", "\x43\x6f\156\164\145\x6e\x74\55\124\171\160\x65" => "\x61\x70\x70\x6c\151\143\141\164\151\x6f\156\57\152\x73\157\x6e", "\x58\x2d\x52\x65\161\x75\x65\163\164\55\111\144" => get_uuid(), "\x58\x2d\101\143\143\157\165\x6e\x74\x69\x6e\x67\x2d\x43\x6f\144\x65" => $csomag->acc, "\101\165\x74\x68\157\x72\151\x7a\x61\x74\151\157\156" => "\x42\145\141\x72\x65\162\40" . $csomag->access_token]); goto DymgK; DymgK: $resp = wp_remote_get($url, $params); goto uuxyu; kOroc: kUeY5: goto VvqNB; jSMaW: $table = new shipments_table(); goto JSD7Q; GaDYw: WC_Pont::log("\x50\157\163\x74\141\x9\147\x65\x74\40\x73\150\151\160\155\x65\x6e\x74\x73", "\x69\156\146\157"); goto ym8F3; uuxyu: $respcode = wp_remote_retrieve_response_code($resp); goto H7LHx; n2ybU: if (!$limit) { goto paL8K; } goto OzjOx; JSD7Q: foreach ($resp as $r) { goto FSiU2; rdGY7: $delete_url = wp_nonce_url(add_query_arg(array("\160\x6e" => array($r->shipment->trackingNumber)), admin_url("\x61\x64\155\151\x6e\x2e\160\150\x70\77\160\x61\147\145\x3d\160\157\x73\164\141")), "\160\x6f\163\164\x61\160\x61\x67\x65", "\x5f\167\160\156\x6f\x6e\143\145"); goto qwN23; FSiU2: $packages = null; goto O6roP; krXRZ: $address = $r->shipment->recipient->address; goto rdGY7; iycao: V87yK: goto hItV5; O6roP: foreach ($r->shipment->item as $i) { goto Af_72; Af_72: $extra = implode("\54\x20", $i->services->extra); goto MKRpO; MKRpO: $packages = sprintf("\155\303\251\162\x65\164\x3a\x20\74\x62\x3e\x25\163\74\x2f\142\x3e\40\145\x67\x79\xc3\251\x6e\151\x20\61\x3a\40\x3c\x62\x3e\x25\x73\74\x2f\142\76\x20\x65\x67\x79\xc3\251\156\x69\40\62\72\x20\x3c\x62\76\x25\x73\74\x2f\142\x3e\40\x75\164\xc3\xa1\x6e\166\303\251\164\x3a\40\x3c\x62\x3e\x25\163\x3c\57\142\76\40\163\172\157\154\x67\xc3\xa1\154\164\x61\164\xc3\xa1\x73\72\x20\x3c\142\76\x25\163\74\57\142\x3e\x20\145\x78\x74\x72\x61\72\x20\74\x62\x3e\45\163\74\57\x62\76\x20\x6b\xc3\251\172\142\145\x73\xc3\xad\x74\303\251\163\x3a\40\74\x62\76\x25\163\x3c\x2f\x62\76\40\144\xc3\255\x6a\x3a\x20\74\x62\x3e\x25\163\74\x2f\x62\76\x20\165\164\xc3\xa1\x6e\166\xc3\xa9\164\72\40\74\142\76\x25\x73\74\x2f\142\76", $i->size, $i->customData1 ?? '', $i->customData2 ?? '', $i->services->cod, $i->services->basic, $extra, $i->services->deliveryMode ?? '', $i->fee ?? "\55", $i->services->cod ?? "\x2d"); goto lleAS; lleAS: YvVmb: goto nTc_d; nTc_d: } goto Qqx1E; Qqx1E: bcVTt: goto krXRZ; qwN23: $table->parcels[] = array("\160\x6e" => sprintf("\x25\x73\x20\74\141\x20\150\162\x65\x66\75\x22\45\163\42\40\143\x6c\141\163\163\75\42\171\157\165\162\55\x63\x6c\x61\163\x73\42\x3e\x25\163\74\57\141\76", $r->shipment->trackingNumber, $delete_url, __("\124\xc3\xb6\x72\xc3\266\x6c", "\x77\143\x2d\x70\x6f\x6e\164")), "\144\x61\164\x65" => date("\x59\x2d\x6d\x2d\x64\x20\110\x3a\151", strtotime($r->shipment->shipmentDate)), "\157\x72\144\x65\x72\137\x69\144" => $r->shipment->orderId, "\x72\145\143\x69\160\x69\x65\156\x74\x5f\x6e\141\155\145" => $r->shipment->recipient->contact->name, "\162\145\x63\151\x70\151\145\x6e\164\137\x63\x6f\156\164\x61\143\x74" => $r->shipment->recipient->contact->email . "\x20" . $r->shipment->recipient->contact->phone, "\x72\145\143\x69\x70\151\x65\156\164\137\x61\144\x64\162\145\x73\163" => sprintf("\x25\x73\x20\45\x73\54\40\x25\x73", $address->postCode, $address->city, $address->address), "\x69\x74\145\x6d\x73" => $packages); goto iycao; hItV5: } goto nxK1p; JRFDC: WC_Pont::log("\x50\157\163\164\x61\11\x72\x65\163\x70\x6f\156\163\145\72\40" . json_encode(array($resp), JSON_UNESCAPED_UNICODE), "\145\162\x72\157\x72"); goto FiND8; muCcc: $csomag->get_access(); goto iQ65K; VvqNB: $resp = json_decode(wp_remote_retrieve_body($resp)); goto jSMaW; nxK1p: eKA4T: goto S2hB9; F4jK5: paL8K: goto myKtz; OzjOx: $table->pagination = $limit; goto F4jK5; UWzUh: return count($resp); goto uhIW8; iQ65K: $url = "\x68\x74\x74\160\x73\72\x2f\x2f" . $csomag->env . "\x2e\141\160\x69\x2e\160\157\163\164\141\56\x68\165\57\x76\x32\57\x6d\x70\x6c\x61\x70\x69\57\x73\x68\x69\x70\155\x65\156\164\163\57"; goto R5J3J; UvCNs: $table->display(); goto UWzUh; uhIW8: } goto xthKQ; v0PW4: function remark_on_label($order, $template, $length = null) { goto a5wt4; PWel6: $order_id = $order->get_order_number(); goto I48vg; hiZH2: $lItems = array("\43" => "\x5b\143\151\x6b\x6b\163\x7a\303\241\x6d\135", '' => "\x5b\x74\145\162\155\303\251\153\x5d", "\x64\x62\72\x20" => "\133\155\145\x6e\156\x79\151\x73\303\251\x67\135"); goto UwRqJ; QFMbs: $template .= "\40" . implode("\174", $itemTemplate); goto fJjO5; fJjO5: return mb_substr($template, 0, $length ?? 40); goto U6o2_; ugh0e: $itemTemplate = array(); goto PWel6; a5wt4: $customer_message = !empty($order->get_customer_note()) ? $order->get_customer_note() : ''; goto hiZH2; UwRqJ: $iTemplate = array(); goto ugh0e; MK37E: $contents = get_contents($order); goto lEK3N; JXZve: foreach ($lItems as $k => $lItem) { goto fx5kb; wNJBH: $template = str_replace($lItem, "\40", $template); goto Zbul_; Zbul_: $iTemplate[] = "\40" . $k . $lItem; goto NPvdA; fx5kb: if (!(strpos($template, $lItem) !== false)) { goto QSSDK; } goto wNJBH; mc69S: RtcWG: goto vdrEP; NPvdA: QSSDK: goto mc69S; vdrEP: } goto pMz9e; djl4M: $template = strtr($template, $templateRep); goto JXZve; vuhbB: foreach ($contents as $content) { $itemTemplate[] = strtr(implode("\x20", $iTemplate), array("\133\x74\145\x72\155\xc3\xa9\153\135" => $content["\x6e\x61\x6d\145"], "\x5b\x63\x69\153\153\163\172\xc3\xa1\155\x5d" => $content["\x73\x6b\165"], "\133\x6d\x65\156\156\x79\x69\x73\303\xa9\147\x5d" => $content["\161\x74\171"])); QGrgs: } goto DsC2j; lEK3N: if (!(sizeof($iTemplate) > 0)) { goto XZElm; } goto vuhbB; pMz9e: garzV: goto MK37E; I48vg: $templateRep = array("\133\x6d\145\x67\x6a\145\x67\171\172\303\xa9\163\x5d" => $customer_message, "\133\303\xba\152\x73\x6f\162\135" => "\xa", "\133\x72\145\x6e\x64\145\x6c\303\251\163\x73\x7a\303\241\x6d\135" => $order_id); goto djl4M; IVi7a: XZElm: goto QFMbs; DsC2j: Vf_mF: goto IVi7a; U6o2_: } goto ewqIb; xthKQ: function delete_posta_package($pns) { goto i0fbz; mNogQ: $csomag = new posta(); goto oQqeG; reUCx: $t = []; goto AJK8J; AJK8J: foreach ($pns as $pn) { goto UcUKY; XXCgR: $result = json_decode($body); goto bC684; N7KTD: curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "\x44\x45\114\105\124\105"); goto GxAah; jUb_p: curl_setopt($ch, CURLOPT_TIMEOUT, 10); goto cKhwn; nr9V_: curl_setopt($ch, CURLOPT_HEADER, TRUE); goto ijhYB; tbiNd: $t[$pn] = __("\x54\xc3\266\162\303\266\154\166\x65", "\x77\143\55\160\x6f\156\164"); goto y1avw; UcUKY: $url = "\150\164\164\x70\x73\72\x2f\x2f" . $csomag->env . "\56\141\x70\x69\56\160\157\163\164\x61\x2e\x68\165\57\166\62\57\155\160\x6c\141\x70\x69\x2f\163\150\151\x70\x6d\145\156\164\163\57" . $pn; goto CCRcS; cKhwn: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto Tvz0v; AiqK4: $response = curl_exec($ch); goto J2K2g; khb97: WC_Pont::log("\120\x6f\x73\x74\x61\11\x64\145\154\145\x74\145\72\40" . "\40\x54\122\x3a\40" . $pn . "\40\162\145\163\x75\x6c\164\x3a\x20" . wc_print_r($response, true) . "\40\142\157\x64\x79\72\x20" . $body, "\x69\156\x66\157"); goto xXIxp; j_X5q: $ch = curl_init(); goto N7KTD; CCRcS: $params = array("\164\151\155\x65\157\x75\x74" => 10, "\x68\164\x74\x70\x76\x65\162\163\151\x6f\156" => "\x31\56\61", "\150\145\141\144\x65\x72\163" => ["\x61\143\143\145\160\x74" => "\x61\x70\x70\x6c\x69\x63\x61\164\x69\157\156\57\152\163\157\x6e", "\103\x6f\156\x74\x65\x6e\164\55\124\x79\x70\x65" => "\141\160\160\154\151\143\x61\x74\151\157\156\x2f\152\163\x6f\x6e", "\x58\x2d\122\145\x71\165\x65\x73\x74\x2d\111\x64" => get_uuid(), "\130\x2d\x41\x63\143\x6f\x75\x6e\x74\x69\156\147\55\103\157\144\x65" => $csomag->acc, "\x41\x75\x74\x68\157\x72\x69\172\x61\164\x69\x6f\x6e" => "\x42\145\x61\x72\145\x72\40" . $csomag->access_token]); goto N1kZz; EjWr_: gtfW6: goto HCZBd; y1avw: goto gtfW6; goto qw8Lm; Wc4D6: curl_setopt($ch, CURLINFO_HEADER_OUT, TRUE); goto nr9V_; YoUE0: $body = substr($response, curl_getinfo($ch, CURLINFO_HEADER_SIZE)); goto XXCgR; R66Wf: $e = array_column($result->errors, "\143\x6f\x64\145"); goto WU0V3; qw8Lm: nih6y: goto R66Wf; HCZBd: t32oC: goto E6DAj; iYoat: if (isset($result->errors)) { goto nih6y; } goto tbiNd; Q_W8V: $t[$pn] = __("\x48\151\142\x61", "\167\x63\x2d\160\x6f\156\164") . "\72\x20" . $httpcode; goto UYDH8; r71TB: lHHpk: goto iYoat; UYDH8: goto t32oC; goto r71TB; xXIxp: if (200 == $httpcode) { goto lHHpk; } goto Q_W8V; tyZ2A: WC_Pont::log("\120\x6f\163\x74\141\x9\x64\x65\x6c\145\x74\x65\x3a\x20" . json_encode($result, JSON_UNESCAPED_UNICODE), "\x65\x72\x72\x6f\x72"); goto EjWr_; J2K2g: $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE); goto YoUE0; bC684: curl_close($ch); goto khb97; GxAah: curl_setopt($ch, CURLOPT_URL, $url); goto jUb_p; E6DAj: L27Pn: goto j0IUz; N1kZz: $headers = ["\x41\x63\143\145\160\164\x3a\x20\141\x70\160\154\151\143\141\x74\151\x6f\156\x2f\x6a\x73\x6f\156", "\x43\x6f\156\x74\x65\x6e\164\55\x54\x79\x70\145\72\40\141\x70\160\x6c\x69\143\x61\164\151\157\156\57\152\x73\157\156\73\40\x63\150\x61\162\x73\145\164\75\165\164\146\x2d\x38", "\x58\x2d\122\x65\161\165\x65\163\x74\x2d\x49\x64\x3a\40" . get_uuid(), "\x58\55\x41\143\143\x6f\x75\x6e\x74\x69\156\147\55\x43\x6f\x64\145\x3a\x20" . $csomag->acc, "\x41\x75\x74\150\x6f\162\151\x7a\141\x74\x69\157\156\72\40\x42\x65\141\162\x65\162\40" . $csomag->access_token]; goto j_X5q; WU0V3: $t[$pn] = __("\110\151\x62\141\x6b\xc3\xb3\144", "\167\143\55\160\157\x6e\x74") . "\72\40" . implode("\54\40", $e); goto tyZ2A; ijhYB: curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); goto AiqK4; Tvz0v: curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto Wc4D6; j0IUz: } goto IYUY4; eON0m: return $t; goto K6QfV; oQqeG: $csomag->init(); goto YgCrt; YgCrt: $csomag->get_access(); goto reUCx; IYUY4: uz04Y: goto eON0m; i0fbz: WC_Pont::log("\120\x6f\x73\x74\x61\11\x64\x65\154\x65\x74\145\x20\163\150\x69\x70\x6d\x65\156\164\163", "\x69\x6e\x66\x6f"); goto mNogQ; K6QfV: } goto ZMCbG; rOWzx: function export_posta($order_ids) { goto vztnb; NyKF6: gpVcI: goto ZnvFx; EUVnh: if (!(200 != check_response($resp, $order_id))) { goto MNsUW; } goto OjOv2; AefLc: $resp = wp_remote_post("\150\x74\x74\x70\x73\72\x2f\x2f" . $csomag->env . "\x2e\141\160\x69\x2e\160\157\x73\164\141\x2e\150\x75\x2f\166\62\x2f\155\x70\154\141\160\x69\x2f\x73\x68\151\160\155\x65\x6e\x74\163", $query); goto JlM9R; jBI2G: if (!$trs) { goto gpVcI; } goto tsFkX; m551y: file_put_contents(trailingslashit(WC_Pont::wc_pont_upload_dir()) . $filename, base64_decode($resp[0]->label)); goto gLb3F; FV0s6: if (!is_wp_error($resp)) { goto VyaY5; } goto DKI0J; n_lKm: $query = "\x74\x72\141\x63\x6b\x69\x6e\x67\x4e\165\x6d\142\145\x72\x73\x3d" . implode("\46\164\162\x61\x63\153\151\156\147\x4e\x75\155\x62\x65\x72\163\x3d", $trs); goto GrVf9; OjOv2: WC_Pont::log("\x45\170\x70\x6f\x72\164\72\x9\147\x65\164\x20\x6c\141\x62\x65\x6c\x73" . "\x20\157\x72\x64\x65\x72\40\151\x64\x3a\40" . implode("\x2c\40", $trs) . "\40\x72\145\163\x70\x6f\156\x73\x65\x3a\40" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\x65\162\x72\x6f\x72"); goto vkSZj; WSYhq: posta_shipments_close(); goto K5w2M; EyVvY: return; goto xWGYp; IfTQU: WC_Pont::log("\105\x78\x70\157\162\x74\x3a\x9\147\145\x74\x20\154\141\142\145\x6c\163" . "\x20\164\162\72\40" . implode("\x2c\x20", $trs) . "\x20\x75\x72\x6c\x3a\x20" . $url, "\151\156\x66\157"); goto qxpIX; Qxrze: if (!(get_option("\167\x63\137\x70\157\x6e\164\137\145\170\160\157\162\164\x5f\x6d\157\x64\x5f\x73\164\141\164\165\x73") == "\x79\145\x73")) { goto ON0px; } goto MVdCX; ZhMO1: $i = 0; goto DVu8B; YMo2A: $resp = json_decode(wp_remote_retrieve_body($resp)); goto v4X7i; GT0h8: tyHln: goto NyKF6; rUWXg: foreach ($order_ids as $order_id) { goto EKtis; RWUzo: $item->services->extra[] = "\113\x5f\125\x56\124"; goto o7PxE; gZiB8: if (empty($template)) { goto tyFFt; } goto tMmNt; yEPHC: Z4MsO: goto icAF3; Fe9eU: goto T1NdU; goto ZV0x_; SI_7i: if (!(false === $dop)) { goto DM0i2; } goto UsuE2; rBWii: goto sBscL; goto Fe9eU; JIQfg: if (!("\143\x6f\x64" === $order->get_payment_method())) { goto zw0St; } goto BlWDc; cBGxh: $remark = ''; goto gZiB8; uEmdN: goto sBscL; goto ze1Rb; tMmNt: $remark = remark_on_label($order, $template, 50); goto DlxGg; UsuE2: WC_Pont::st_array("\160\157\156\x74\137\x65\162\x72\x6f\162\x73", $order->get_order_number(), __("\xc3\201\x74\x76\145\166\305\x91\160\157\x6e\164\40\x6e\145\x6d\x20\164\141\154\xc3\241\154\x68\141\164\xc3\263\72", "\167\143\x2d\160\x6f\156\x74") . "\40" . $p[2]); goto rWSWw; MgnWf: $exp++; goto YJEX7; WGOj7: $custom_data1 = remark_on_label($order, $template); goto pJMaZ; dONIM: $order = new WC_Order($order_id); goto nhLzS; ZBHn_: $custom_data2 = ''; goto b6K46; mPIjO: if (strpos($p[1], "\120\x6f\x73\164\x61") !== false) { goto i1se_; } goto n_NUB; EYSmi: $recipient = (object) ["\143\x6f\x6e\164\141\x63\164" => (object) ["\x6e\x61\x6d\145" => trim($order->get_shipping_company() . "\x20" . $order->get_shipping_last_name() . "\40" . $order->get_shipping_first_name()), "\x65\x6d\141\151\x6c" => $order->get_billing_email(), "\x70\x68\x6f\156\x65" => get_option("\167\143\x5f\160\x6f\156\x74\137\x70\x6f\163\164\141\137\146\157\162\x6d\141\x74\x5f\x70\150\157\x6e\145") === "\x79\x65\163" ? substr(formatPhone($order->get_billing_phone()), 0, 13) : $order->get_billing_phone()], "\x61\144\x64\162\x65\x73\x73" => (object) ["\x70\157\x73\164\x43\157\144\x65" => $order->get_shipping_postcode(), "\143\x69\164\x79" => $order->get_shipping_city(), "\x61\x64\x64\162\145\163\x73" => @$order->get_shipping_address_2() ? $order->get_shipping_address_1() . "\40" . $order->get_shipping_address_2() : $order->get_shipping_address_1(), "\x70\x61\162\143\145\x6c\120\x69\x63\x6b\x75\x70\x53\151\164\145" => '', "\x72\145\155\x61\x72\x6b" => $remark]]; goto DTLiF; DTLiF: $csomag->parcel->recipient = $recipient; goto D1ura; pJMaZ: SQaFw: goto LGyaX; LGyaX: $template = get_option("\x77\143\137\160\x6f\156\x74\x5f\x70\x6f\163\x74\x61\137\143\165\x73\164\157\155\x5f\144\x61\164\141\x32\137\164\145\x6d\160\x6c\141\x74\145"); goto ZBHn_; x_lNM: DM0i2: goto EKhiA; tziAT: $pont = get_post_meta($order_id, "\x77\x63\137\x73\145\x6c\145\x63\x74\145\144\x5f\x70\x6f\x6e\x74", true); goto GE0rE; INBTI: $sMethod = reset($sMethod); goto kT_zY; pVj_G: $csomag->parcel->item[0] = $item; goto tziAT; Keiwp: $parcels[] = $csomag->parcel; goto MgnWf; QT9P3: $dop = $csomag->setDOP($order, $order_id, $p); goto SI_7i; Ny9Jf: HsiR4: goto c9d7X; Or8EV: $item->services->extra = array_merge($item->services->extra, $services); goto IURD3; YJEX7: sBscL: goto SiE8Q; cCVHI: if (!($services && is_array($services))) { goto Bg_gq; } goto Or8EV; ze1Rb: XJM5K: goto JIQfg; kVigQ: $exclude = get_option("\167\143\137\160\157\x6e\x74\x5f\160\x6f\x73\x74\x61\137\145\x78\143\154\x75\144\145"); goto wpf9y; BlWDc: $item->services->cod = (float) $order->get_total(); goto RWUzo; DlxGg: tyFFt: goto EYSmi; EKtis: $csomag->parcel = (object) ["\163\x65\156\x64\145\x72" => ["\x61\147\x72\145\x65\x6d\145\156\164" => get_option("\x77\x63\137\160\157\156\x74\x5f\160\157\163\x74\141\137\141\147\162\x65\x65\155\x65\x6e\x74"), "\141\x63\143\x6f\165\x6e\x74\116\157" => (string) get_option("\x77\143\137\x70\157\x6e\x74\137\160\x6f\x73\164\x61\137\141\143\x63\x6f\165\156\164\137\x6e\157"), "\x63\157\156\x74\x61\143\164" => ["\x6e\x61\155\x65" => get_option("\x77\x63\x5f\160\157\x6e\164\x5f\x70\157\x73\x74\141\137\163\145\156\144\x65\162\137\156\x61\x6d\x65"), "\x65\x6d\141\x69\x6c" => get_option("\x77\x63\x5f\160\x6f\156\x74\137\x70\157\163\164\141\x5f\x73\145\156\144\x65\x72\137\155\141\x69\x6c"), "\x70\150\157\x6e\145" => get_option("\167\x63\x5f\x70\157\156\164\x5f\x70\x6f\x73\x74\141\x5f\163\x65\156\144\x65\162\137\160\150\x6f\x6e\145")], "\x61\144\144\162\145\x73\163" => ["\160\157\x73\x74\x43\157\x64\x65" => get_option("\167\143\x5f\160\157\156\164\137\x70\157\163\164\141\x5f\163\145\x6e\144\145\162\137\172\151\x70"), "\143\151\x74\171" => get_option("\x77\x63\137\x70\157\x6e\x74\x5f\x70\x6f\163\x74\x61\x5f\163\145\156\x64\145\x72\x5f\x63\x69\164\171"), "\x61\x64\144\162\x65\x73\x73" => get_option("\167\x63\137\160\x6f\x6e\164\137\160\157\x73\x74\141\x5f\x73\145\156\x64\145\x72\x5f\x61\x64\x64\162\x65\x73\163"), "\162\145\155\x61\162\153" => '']], "\162\x65\143\x69\160\x69\145\x6e\164" => (object) ["\x63\157\x6e\164\141\x63\164" => (object) ["\156\x61\155\145" => '', "\x65\155\x61\151\154" => '', "\160\x68\x6f\x6e\x65" => ''], "\x61\144\144\x72\145\x73\163" => (object) ["\160\157\163\x74\x43\x6f\x64\145" => '', "\x63\151\164\171" => '', "\x61\x64\x64\162\x65\163\163" => '', "\160\141\162\x63\x65\154\x50\151\x63\x6b\165\x70\x53\x69\x74\145" => '', "\162\x65\155\141\x72\x6b" => ''], "\144\151\x73\x61\142\x6c\x65\144" => false], "\x6f\x72\x64\145\x72\111\144" => (string) $order_id, "\144\145\x76\x65\x6c\157\x70\x65\162" => "\163\x7a\x61\164\x68\x6d\141\x72\x69\x2e\150\165", "\x77\x65\142\163\x68\157\x70\111\x64" => get_option("\167\x63\137\160\x6f\x6e\164\x5f\160\157\163\x74\x61\x5f\x73\x65\x6e\x64\x65\162\137\156\x61\x6d\x65"), "\154\141\142\145\154\x54\x79\160\x65" => get_option("\x77\143\x5f\160\157\x6e\x74\137\160\x6f\x73\164\x61\137\x6c\141\142\145\154\x74\x79\x70\x65", "\x41\x35"), "\164\141\x67" => '', "\x70\141\171\155\145\x6e\x74\x4d\157\x64\x65" => get_option("\x77\x63\137\160\157\x6e\x74\x5f\160\157\163\164\x61\x5f\160\x61\171\155\145\x6e\164\137\155\157\144\145", "\125\126\x5f\101\124"), "\160\141\143\x6b\x61\x67\x65\x52\145\164\x65\156\164\151\157\156" => (int) get_option("\167\x63\137\160\157\x6e\164\x5f\x70\157\163\x74\141\137\162\145\164\x65\156\x74\x69\157\x6e", "\65"), "\151\x74\x65\x6d" => []]; goto dONIM; kT_zY: if (!(strpos($sMethod["\x6d\x65\164\x68\157\144\137\x69\x64"], "\154\x6f\x63\141\x6c\x5f\x70\151\143\x6b\165\160") !== false)) { goto HsiR4; } goto c_Qtm; c_Qtm: WC_Pont::st_array("\x70\157\156\164\137\145\162\162\157\x72\163", $order->get_order_number(), __("\122\x65\156\144\x65\154\xc3\251\163\40\x6e\x65\x6d\x20\153\x65\x72\xc3\xbc\154\x74\x20\164\157\166\xc3\xa1\x62\x62\303\255\164\303\xa1\x73\162\141\54\40\163\172\145\x6d\xc3\xa9\154\x79\145\x73\x20\xc3\xa1\164\x76\xc3\xa9\164\145\x6c\x6c\x65\154\40\153\xc3\251\162\164\x65", "\167\x63\x2d\160\157\x6e\164")); goto punoR; rWSWw: goto sBscL; goto x_lNM; o7PxE: zw0St: goto pVj_G; tOYjD: $custom_data1 = ''; goto RbN6n; n_NUB: WC_Pont::st_array("\160\157\156\164\x5f\145\x72\162\157\x72\163", $order->get_order_number(), sprintf(__("\x41\x20\x72\145\156\x64\145\154\xc3\251\x73\164\x20\x25\163\40\163\x7a\303\xa1\x6c\x6c\xc3\xad\x74\xc3\xa1\x73\163\x61\x6c\40\153\303\251\162\x74\145", "\167\x63\x2d\160\157\x6e\164"), $p[1])); goto rBWii; IURD3: Bg_gq: goto kVigQ; c9d7X: $template = get_option("\167\x63\x5f\x70\x6f\x6e\x74\x5f\160\x6f\163\164\141\137\x72\145\155\141\162\x6b\137\164\145\x6d\x70\154\141\164\x65"); goto cBGxh; GE0rE: if (!$pont) { goto nBJNO; } goto a1YLS; punoR: goto sBscL; goto Ny9Jf; glxSx: WC_Pont::st_array("\160\157\156\164\137\145\x72\x72\x6f\162\163", $order->get_order_number(), sprintf(__("\x41\x20\162\145\x6e\x64\x65\x6c\xc3\xa9\163\x20\156\x65\155\40\x6c\x65\x74\164\x20\x65\x78\x70\157\162\x74\xc3\241\x6c\x76\x61\x2c\x20\x25\x73\x20\155\x65\x74\141\40\x61\x6c\141\x70\x6a\303\241\156\40\x6b\x69\x7a\303\xa1\x72\166\x61", "\167\143\x2d\160\157\x6e\164"), $exclude)); goto uEmdN; ThFMc: $value = !empty($max_value) && is_numeric($max_value) && $order->get_total() > $max_value ? $max_value : $order->get_total(); goto r8OpC; ZV0x_: i1se_: goto QT9P3; D1ura: $template = get_option("\x77\x63\x5f\160\x6f\x6e\x74\x5f\x70\x6f\x73\x74\x61\137\x63\x75\x73\164\157\x6d\137\144\141\x74\141\61\x5f\164\145\155\160\x6c\141\164\145"); goto tOYjD; a1YLS: $p = explode("\x7c", $pont); goto mPIjO; b6K46: if (empty($template)) { goto Z4MsO; } goto VZ8wx; H_tR8: WC_Pont::log("\105\x78\160\157\x72\x74\72\11\120\141\162\143\x65\x6c\40\144\x6f\156\x65" . "\40\157\x72\x64\145\x72\40\151\x64\x3a\x20" . $order_id . "\40\160\141\x72\143\145\x6c\72\x20" . wc_print_r($csomag->parcel, true), "\151\x6e\x66\157"); goto Keiwp; EJh9f: nBJNO: goto Ap4Cz; wpf9y: if (!($exclude && get_post_meta($order_id, $exclude))) { goto XJM5K; } goto glxSx; VZ8wx: $custom_data2 = remark_on_label($order, $template); goto yEPHC; RbN6n: if (empty($template)) { goto SQaFw; } goto WGOj7; Ap4Cz: do_action("\167\157\157\x63\157\x6d\x6d\x65\162\143\145\137" . "\x77\x63\x5f\x70\x6f\x6e\164" . "\137\145\x78\x70\157\x72\x74\x5f\x70\157\x73\164\x61\137\x64\x61\164\141", $csomag->parcel, $order); goto H_tR8; icAF3: $max_value = get_option("\x77\x63\x5f\160\x6f\x6e\x74\x5f\x70\157\x73\164\141\x5f\x6d\x61\x78\x5f\x76\x61\154\x75\145"); goto ThFMc; r8OpC: $item = (object) ["\143\165\163\164\x6f\x6d\104\x61\x74\141\x31" => $custom_data1, "\x63\x75\x73\164\x6f\155\104\141\164\141\x32" => $custom_data2, "\x77\x65\x69\x67\x68\164" => ["\166\141\154\165\145" => WC_Pont::get_package_weight($order), "\165\156\151\x74" => "\x67"], "\163\151\x7a\145" => "\115", "\163\x65\162\x76\151\x63\x65\163" => (object) ["\142\x61\x73\151\x63" => "\x41\137\x31\x37\x35\137\125\132\x4c", "\145\170\164\x72\x61" => [], "\x63\157\144" => 0, "\166\141\154\165\145" => (float) $value, "\x64\x65\x6c\151\166\145\x72\x79\x4d\x6f\x64\x65" => "\x48\x41"]]; goto KAAO0; nhLzS: $sMethod = $order->get_shipping_methods(); goto INBTI; EKhiA: T1NdU: goto EJh9f; KAAO0: $item->size = empty(get_post_meta($order_id, "\160\x61\x63\153\141\147\145\x5f\163\151\x7a\x65")) ? get_option("\x77\143\137\x70\x6f\x6e\164\137\x70\x6f\163\164\x61\x5f\163\x69\172\145", "\115") : get_post_meta($order_id, "\x70\x61\x63\153\x61\147\145\137\x73\x69\172\x65", true); goto agqbg; agqbg: $services = get_option("\167\143\137\x70\x6f\x6e\164\137\160\x6f\163\164\141\x5f\x73\x65\x72\166\x69\x63\x65\137\145\170\x74\162\141"); goto cCVHI; SiE8Q: } goto Z1cWZ; vkSZj: MNsUW: goto Dz5ox; vDDbR: $exp = 0; goto s8Ghj; ZBDXL: $params = array("\164\151\155\x65\157\165\164" => apply_filters("\x77\143\x5f\x70\157\156\164\x5f\x65\170\160\x6f\162\x74\137\x70\x6f\163\164\x61\x5f\x74\x69\155\x65\157\165\x74", 10), "\x68\164\x74\160\166\x65\162\163\x69\157\x6e" => "\61\x2e\61", "\142\x6f\144\x79" => $body, "\x68\x65\141\144\x65\162\163" => ["\x61\143\143\145\160\164" => "\x61\x70\x70\154\x69\x63\141\164\x69\x6f\x6e\57\x6a\x73\157\156", "\x43\x6f\x6e\164\145\x6e\x74\55\x54\x79\160\x65" => "\141\160\x70\x6c\x69\143\141\x74\x69\157\x6e\57\x6a\x73\x6f\x6e", "\130\55\122\145\x71\x75\x65\x73\164\x2d\111\144" => get_uuid(), "\x58\x2d\x41\143\143\157\165\156\164\151\156\147\x2d\103\x6f\144\145" => $csomag->acc, "\101\x75\x74\150\157\162\151\172\141\x74\x69\x6f\x6e" => "\102\x65\x61\162\145\x72\x20" . $csomag->access_token]); goto lsTV2; r3Vgl: WC_Pont::log("\x45\170\x70\157\x72\164\x3a\x9\120\x61\x72\143\x65\154\x20\160\x72\x69\156\164" . "\x20\157\x72\x64\x65\162\40\x69\x64\x3a\40" . implode("\x2c\40", $exported_ids) . "\40\162\145\163\160\157\x6e\163\x65\72\x20" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\x69\156\146\x6f"); goto ZhMO1; CdhtF: $body = "\12\x7b\12\42\x66\x72\x6f\155\x44\x61\164\x65\42\x3a\x20\42\62\60\62\x30\55\60\x37\55\x32\63\x54\61\x32\72\63\x31\x3a\x30\x35\56\70\x35\61\x5a\x22\54\12\x22\x74\x6f\104\141\x74\x65\x22\72\x20\42\x32\60\62\60\55\x30\x37\55\62\x33\x54\x31\62\x3a\x33\x31\72\x30\65\x2e\x38\x35\x31\132\42\54\12\42\164\162\x61\x63\x6b\x69\x6e\x67\116\165\x6d\142\x65\162\x73\x22\72\40\x5b\xa\42\120\116\x56\x46\61\71\65\61\66\61\60\x30\61\x22\12\135\54\12\42\x63\x68\x65\x63\x6b\x4c\x69\x73\x74\42\x3a\x20\x74\162\x75\x65\x2c\xa\x22\164\141\x67\42\72\40\x22\163\164\x72\x69\156\147\x22\xa\175\12"; goto WSYhq; DZVEG: $csomag->init(); goto I53Qx; KCVCZ: return; goto jVljX; eaniz: ON0px: goto cnqLQ; v4X7i: $filename = date("\x59\x6d\144\55\x48\151\163") . "\56\160\144\x66"; goto m551y; UQC9s: WC_Pont::log("\120\x6f\x73\x74\141\11\x64\141\164\141" . "\40\x58\55\101\x63\143\x6f\165\156\164\151\156\x67\55\x43\157\x64\145\x3a\40" . $csomag->acc . "\40\163\145\156\x64\x3a\x20" . json_encode($parcels, JSON_UNESCAPED_UNICODE), "\151\156\146\x6f"); goto ZBDXL; M8Zcc: $resp = json_decode(wp_remote_retrieve_body($resp)); goto r3Vgl; yc_JH: VyaY5: goto M8Zcc; qxpIX: $resp = wp_remote_get($url, $params); goto EUVnh; xWGYp: xu47j: goto FV0s6; Z1cWZ: yOqhs: goto YE1U5; W_03V: if (!(200 != check_response($resp, $order_id))) { goto xu47j; } goto EyVvY; ikM4m: return get_transient("\x70\157\156\x74\137\x70\143\x6c\163") && count(get_transient("\160\x6f\156\164\x5f\x70\143\x6c\163")); goto GDNiv; DVu8B: $trs = []; goto pmiWg; GrVf9: $query .= "\46\154\141\x62\x65\154\x54\x79\x70\145\75" . get_option("\167\x63\x5f\160\157\x6e\164\137\160\x6f\x73\164\141\137\x6c\x61\x62\145\154\164\x79\x70\x65", "\x41\65"); goto BptZv; hVx71: $body = json_encode($parcels); goto UQC9s; tsFkX: $params = array("\x74\151\155\145\x6f\x75\x74" => 10, "\x68\x74\x74\x70\x76\145\162\x73\151\157\156" => "\61\x2e\61", "\150\145\141\144\145\x72\x73" => ["\x61\x63\x63\x65\x70\x74" => "\x61\160\x70\x6c\151\x63\x61\164\151\157\156\57\152\163\157\156", "\x43\157\x6e\164\x65\156\x74\55\124\171\160\145" => "\x61\160\x70\x6c\x69\143\141\164\151\157\x6e\x2f\152\x73\157\x6e", "\130\x2d\122\x65\x71\165\145\x73\x74\x2d\x49\144" => get_uuid(), "\x58\x2d\101\143\143\157\165\x6e\x74\x69\x6e\x67\55\x43\x6f\x64\x65" => $csomag->acc, "\101\x75\164\x68\157\x72\x69\172\x61\164\151\x6f\x6e" => "\x42\x65\141\x72\145\162\x20" . $csomag->access_token]); goto n_lKm; K5w2M: return count(get_transient("\160\x6f\156\164\x5f\x70\x63\x6c\x73")); goto MJX4V; GDNiv: y93bd: goto CdhtF; jVljX: JY0AW: goto YMo2A; gLb3F: foreach ($trs as $o_id => $tr) { WC_Pont::st_array("\x70\157\x6e\164\137\x70\144\146", $o_id, $filename); McSQL: } goto GT0h8; ZnvFx: set_transient("\160\157\156\x74\137\x63\141\162\162\151\145\x72", "\x70\157\163\164\x61", 5 * MINUTE_IN_SECONDS); goto Qxrze; BKMux: WC_Pont::st_array("\160\x6f\x6e\164\x5f\145\162\162\157\162\x73", $order_id, __("\103\xc3\xad\x6d\x6b\x65\156\x79\157\x6d\164\x61\x74\141\x74\xc3\241\163\151\x20\x70\x72\x6f\142\154\xc3\251\x6d\141", "\x77\x63\55\160\157\x6e\164") . "\x3a\40" . json_encode($resp)); goto r54j7; YE1U5: $exported_ids = array_column($parcels, "\x6f\162\x64\145\x72\111\x64"); goto hVx71; I53Qx: $csomag->get_access(); goto vDDbR; cnqLQ: if (!("\x79\145\163" === get_option("\x77\x63\x5f\160\x6f\x6e\x74\x5f\160\157\x73\164\141\137\x63\x6c\x6f\163\145"))) { goto y93bd; } goto ikM4m; Dz5ox: if (!is_wp_error($resp)) { goto JY0AW; } goto D2sM_; JlM9R: WC_Pont::log("\120\x6f\163\164\x61\x9\x73\145\156\164\x20\x71\x75\145\162\171\72\x20" . json_encode($query, JSON_UNESCAPED_UNICODE), "\x69\x6e\146\x6f"); goto W_03V; r54j7: return; goto yc_JH; lsTV2: $query = http_build_query($params); goto AefLc; vztnb: $csomag = new posta(); goto DZVEG; s8Ghj: $parcels = []; goto rUWXg; pmiWg: foreach ($resp as $r) { goto uLmp9; vIfId: $i++; goto xZdnv; xZdnv: SaFp3: goto JZ5fA; uLmp9: if (!isset($r->errors)) { goto Mr0CJ; } goto m9ZtN; upxCb: WC_Pont::st_array("\160\157\x6e\164\x5f\x70\143\154\163", $parcels[$i]->orderId, $r->trackingNumber); goto PzvRp; sXNa9: goto SaFp3; goto JQxZl; m9ZtN: WC_Pont::st_array("\160\x6f\x6e\164\137\x65\x72\162\157\x72\x73", $parcels[$i]->orderId, sprintf("\45\x73\56\x20\110\x69\142\x61\x6b\xc3\263\x64\72\40\x25\x73\40\110\151\x62\x61\154\145\303\255\162\303\241\163\72\x20\x25\163", __("\x43\xc3\255\155\153\x65\156\171\x6f\155\164\x61\164\141\x74\xc3\xa1\x73\x69\x20\160\162\x6f\x62\x6c\xc3\xa9\x6d\141", "\x77\x63\x2d\x70\x6f\x6e\164"), implode("\54\40", array_column($r->errors, "\x63\x6f\x64\145")), implode("\x2c\40", array_column($r->errors, "\160\x61\162\x61\x6d\145\x74\145\162")))); goto GX7P7; JQxZl: Mr0CJ: goto upxCb; GX7P7: $i++; goto sXNa9; PzvRp: $trs[$parcels[$i]->orderId] = $r->trackingNumber; goto vIfId; JZ5fA: } goto pgk_W; D2sM_: WC_Pont::st_array("\x70\x6f\x6e\x74\137\145\x72\x72\x6f\162\x73", 0, __("\103\303\255\155\x6b\145\x6c\145\153\145\x6c\145\x74\303\266\x6c\x74\xc3\251\163\151\40\160\162\157\x62\154\303\251\x6d\141\x3a", "\167\143\55\160\157\156\x74") . "\72\x20" . json_encode($resp)); goto KCVCZ; MVdCX: WC_Pont::update_order_status($PrintLabelsInfoList->PrintLabelsInfo->ClientReference); goto eaniz; BptZv: $url = "\150\164\x74\160\163\72\57\57" . $csomag->env . "\56\x61\x70\x69\56\160\157\163\x74\x61\x2e\x68\165\x2f\x76\62\x2f\155\160\x6c\141\160\x69\x2f\163\150\151\160\155\145\156\x74\x73\57\154\x61\142\x65\x6c\77" . $query; goto IfTQU; DKI0J: WC_Pont::log("\105\x78\160\157\162\164\x3a\11\x50\x61\x72\143\145\x6c\x20\160\162\151\x6e\x74" . "\x20\157\x72\x64\x65\x72\40\151\144\x3a\x20" . implode("\54\x20", $exported_ids) . "\40\162\x65\163\160\x6f\156\x73\145\72\40" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\x65\x72\162\x6f\162"); goto BKMux; pgk_W: JF0oI: goto jBI2G; MJX4V: } goto iK4rY; cxeuz: tDf6o: goto rL4Yv; g69Iv: class posta { public $acc; public $key; public $secret; public $access_token; public $test; public $parcel; function init() { goto pcWXj; jwqDz: $this->acc = get_option("\167\x63\x5f\x70\x6f\x6e\x74\137\x70\157\x73\164\x61\x5f\141\143\143"); goto F6tsF; BntwV: $this->env = get_option("\x77\143\x5f\160\157\156\x74\x5f\x70\x6f\x73\164\x61\137\x74\x65\x73\164") === "\x79\x65\x73" ? "\163\141\156\x64\x62\157\170" : "\x63\x6f\162\x65"; goto ogatm; pcWXj: if (empty(get_option("\x77\143\137\160\x6f\x6e\x74\x5f\x70\x6f\163\164\141\137\x61\x63\143"))) { goto gnFhg; } goto jwqDz; Rqfbg: $this->secret = get_option("\x77\x63\x5f\160\157\156\x74\x5f\x70\x6f\163\x74\x61\137\x73\x65\143\162\x65\164"); goto BntwV; KZIPh: $this->key = get_option("\167\143\137\160\157\156\x74\137\160\157\x73\x74\141\137\153\145\x79"); goto Rqfbg; F6tsF: gnFhg: goto KZIPh; ogatm: } function get_access() { goto IVbEU; hu5aK: if (!$token) { goto f8yUx; } goto ueFsP; oFoVi: WC_Pont::log("\120\157\x73\x74\141\x9\101\143\x63\x65\x73\163\x20\x62\x79\x20\163\x74\157\x72\145\x64\x20\164\157\x6b\x65\x6e", "\x69\x6e\146\x6f"); goto ipZDw; EO1Cf: JGBed: goto KqvJh; KqvJh: $resp = json_decode(wp_remote_retrieve_body($resp)); goto Mqc3X; gOjEv: return; goto EO1Cf; AKJjS: if (!is_wp_error($resp)) { goto hS0ng; } goto IOba5; ueFsP: $this->access_token = $token; goto oFoVi; gFVdU: goto JGBed; goto SLJMS; KoxjO: $resp = wp_remote_post("\150\x74\x74\160\163\x3a\57\x2f" . $this->env . "\x2e\x61\x70\151\x2e\160\157\163\x74\x61\56\x68\x75\x2f\x6f\x61\165\x74\x68\62\x2f\x74\157\153\145\x6e", http_build_query($params)); goto AKJjS; uUrak: $respcode = wp_remote_retrieve_response_code($resp); goto Hf4sV; SLJMS: yBiSa: goto dzjee; dzjee: WC_Pont::log("\105\170\x70\x6f\162\x74\x3a\x9\x50\157\x73\x74\141\x20\x68\151\164\x65\x6c\x65\163\xc3\xad\x74\303\251\163\40\163\x69\x6b\x65\162\164\x65\x6c\x65\156" . "\40\x72\x65\x73\x70\157\156\163\145\72\x20" . $resp["\x62\x6f\144\x79"], "\145\162\x72\157\x72"); goto x0CW1; pGbIO: WC_Pont::st_array("\x70\157\x6e\x74\x5f\x65\162\162\x6f\x72\163", "\120\157\163\x74\x61", __("\113\x61\160\x63\x73\x6f\x6c\303\263\144\303\xa1\163\151\x20\x70\x72\x6f\x62\154\303\xa9\155\141", "\167\143\55\160\157\x6e\164") . "\x3a\x20" . json_encode($resp->errors)); goto ffogU; IVbEU: $token = get_transient("\160\x6f\x6e\164\x5f\x70\157\x73\164\141\x5f\164\157\153\x65\x6e"); goto hu5aK; ffogU: return false; goto N7MjO; N7MjO: hS0ng: goto uUrak; RzfBP: f8yUx: goto kvskz; x0CW1: WC_Pont::st_array("\x70\x6f\x6e\164\137\145\162\162\157\162\x73", "\120\x6f\163\164\x61", __("\110\151\164\x65\154\x65\x73\303\255\x74\xc3\xa9\x73\151\x20\x70\162\x6f\142\x6c\303\xa9\x6d\x61", "\x77\x63\55\160\x6f\156\x74")); goto gOjEv; Hf4sV: if (400 <= $respcode) { goto yBiSa; } goto Igem1; kvskz: $params = array("\x74\x69\155\145\157\165\164" => 10, "\x68\x74\164\160\166\x65\x72\x73\x69\157\156" => "\61\x2e\61", "\142\157\x64\171" => ["\x67\162\141\156\164\x5f\164\x79\x70\145" => "\143\154\x69\x65\x6e\x74\x5f\143\162\145\x64\145\156\164\x69\141\154\163"], "\x41\x63\143\x65\160\164" => "\x61\x70\x70\x6c\x69\143\141\x74\x69\157\x6e\x2f\x6a\x73\x6f\x6e", "\103\157\156\x74\145\x6e\164\x2d\124\x79\160\x65" => "\x61\x70\160\154\151\x63\x61\x74\x69\x6f\156\57\152\163\157\x6e", "\150\x65\x61\x64\145\x72\x73" => ["\x41\x75\x74\x68\157\x72\151\x7a\x61\164\x69\x6f\x6e" => "\x42\141\163\x69\143\40" . base64_encode($this->key . "\72" . $this->secret)]); goto KoxjO; hMmPi: set_transient("\160\x6f\156\x74\x5f\160\x6f\x73\x74\x61\x5f\164\x6f\153\x65\x6e", $resp->access_token, 15 * MINUTE_IN_SECONDS); goto u3UvZ; ipZDw: return; goto RzfBP; IOba5: WC_Pont::log("\x45\170\x70\157\x72\164\x3a\11\x50\157\163\x74\141\x20\150\151\x62\141" . "\x20\x72\x65\x73\160\x6f\156\163\x65\x3a\40" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\x65\x72\162\157\162"); goto pGbIO; Mqc3X: $this->access_token = $resp->access_token; goto hMmPi; Igem1: WC_Pont::log("\x45\x78\160\x6f\x72\164\x3a\x9\157\x61\x75\x74\x68\62" . "\x20\162\145\x73\160\x20\x63\x6f\x64\145\72\40" . $respcode . "\40\162\x65\x73\160\157\156\x73\145\72\x20" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\151\156\146\x6f"); goto gFVdU; u3UvZ: } function setDOP($order, $order_id, $pont) { goto s1VfR; YcKG0: LHGzE: goto J8wQ8; dpcUA: $this->parcel->recipient->address->parcelPickupSite = $p[$id]["\x6e\x61\155\145"]; goto OfQYf; P3mLs: if (!is_array($p[$id])) { goto cV4hW; } goto vSZWA; oem4Q: return false; goto YcKG0; FoSSV: if (!($id === false)) { goto By0g5; } goto pmXKC; tYc8Y: $p = []; goto w7B5c; V2Suw: if (!empty($p)) { goto LHGzE; } goto oem4Q; XkHWT: X03Du: goto V2Suw; z8lxe: $pp[] = json_decode(@file_get_contents(WC_Pont::$plugin_path . "\160\157\163\164\141\160\160\x6f\156\164\56\152\163\157\156"), true); goto iqnUt; vSZWA: $this->parcel->item[0]->services->deliveryMode = $p[$id]["\x67\162\157\x75\160"]; goto dpcUA; J8wQ8: $id = array_search($pont[2], array_column($p, "\151\144")); goto FoSSV; iqnUt: $pp[] = json_decode(@file_get_contents(WC_Pont::$plugin_path . "\x70\x6f\x73\164\141\x63\163\x70\157\156\164\56\x6a\163\157\156"), true); goto tYc8Y; GbREl: By0g5: goto P3mLs; pmXKC: return false; goto GbREl; s1VfR: $pp[] = json_decode(@file_get_contents(WC_Pont::$plugin_path . "\160\x6f\163\x74\x61\155\x70\x6f\x6e\x74\56\152\x73\157\156"), true); goto z8lxe; w7B5c: foreach ($pp as $t) { goto hSqGT; hSqGT: if (!is_array($t)) { goto Det91; } goto ZuV69; MvOJG: AeOaO: goto XEojk; a6z1T: Det91: goto MvOJG; ZuV69: $p = array_merge($p, $t); goto a6z1T; XEojk: } goto XkHWT; W9Nix: cV4hW: goto CB9iM; OfQYf: return true; goto W9Nix; CB9iM: } } goto rOWzx; LX_wT: function get_posta_tracking_info($pn, $order_id) { goto hJ15_; jGVQH: $body = ["\x6c\x61\156\x67\165\141\147\x65" => "\x68\x75", "\x69\x64\x73" => $pn, "\x73\164\x61\x74\x65" => "\x6c\x61\163\x74"]; goto nkqB2; ghyi8: FxV2M: goto kvfhc; K5pcF: $resp = json_decode(wp_remote_retrieve_body($resp)); goto lNWwK; szOQo: return tracking_data_html($pn, $tracking, "\120\157\163\164\141"); goto ghyi8; xvxTS: update_post_meta($order_id, "\137\164\x72\141\x63\x6b\151\x6e\147\137\144\x61\x74\x61", $tracking); goto Hy4Kp; lNWwK: WC_Pont::log("\120\157\x73\164\141\11\x74\x72\141\x63\153\x69\x6e\147\40\x72\x65\x73\x70\157\156\x73\x65" . "\40\x74\x72\72\x20" . $pn . "\40\x72\x65\x73\x70\157\156\163\145\72\x20" . json_encode($resp, JSON_UNESCAPED_UNICODE), "\151\156\146\x6f"); goto HlWPw; DtHU1: $respcode = wp_remote_retrieve_response_code($resp); goto USa8W; WPmpF: $time = date("\x48\72\151\x3a\x73", $timeout - time()); goto xinhG; ocmZY: $resp = wp_remote_post("\150\x74\164\160\163\x3a\57\57" . $csomag->env . "\56\141\160\151\56\160\157\163\x74\141\56\150\x75\x2f\166\x32\57\156\171\157\x6d\x6b\x6f\166\x65\x74\145\x73\57\162\145\147\x69\163\164\x65\x72\145\x64", $query); goto DtHU1; lTacl: $csomag->get_access(); goto jGVQH; nkqB2: $params = array("\164\x69\155\x65\157\x75\164" => 10, "\150\164\164\160\166\x65\x72\x73\x69\157\x6e" => "\61\56\61", "\x62\x6f\144\x79" => json_encode($body), "\x68\145\x61\x64\x65\162\163" => ["\x61\143\143\145\x70\164" => "\141\x70\x70\154\151\x63\x61\x74\151\157\156\x2f\152\163\x6f\156", "\103\x6f\x6e\x74\x65\156\164\55\x54\171\x70\145" => "\x61\x70\160\154\x69\143\x61\x74\x69\157\156\x2f\152\x73\x6f\x6e", "\130\55\x52\145\161\x75\145\163\x74\55\111\144" => get_uuid(), "\130\55\101\x63\x63\157\165\156\164\x69\156\147\x2d\x43\157\144\x65" => $csomag->acc, "\x41\165\164\x68\x6f\162\x69\x7a\x61\164\x69\x6f\x6e" => "\102\145\x61\x72\x65\162\x20" . $csomag->access_token]); goto V8IHs; HlWPw: $status = $resp->trackAndTrace; goto UB1SE; G8E0B: set_transient("\x70\x6f\156\164\137\164\x61\x63\x6b\x69\156\147\137" . $pn, $tracking, 15 * MINUTE_IN_SECONDS); goto szOQo; yC6ke: HEfBj: goto K5pcF; kvfhc: $tracking = (object) ["\144\141\164\x65" => date("\131\x2d\x6d\55\x64\40\x48\72\151", strtotime($status[0]->c11 . "\x20" . $status[0]->c12)), "\143\157\144\x65" => array_search($status[0]->c9, WC_Pont::$postaTrCodes), "\x63\x61\x74\x65\147\157\162\x79" => $status[0]->c43, "\x65\x76\145\156\164" => $status[0]->c9, "\154\x6f\143\x61\164\151\157\x6e" => $status[0]->c13 ? $status[0]->c13 : '']; goto NRunL; NcPnw: WC_Pont::log("\x50\x6f\163\x74\141\11\x74\162\141\x63\x6b\151\x6e\147\40\x72\x65\x73\160\157\x6e\x73\145\72\x20" . wc_print_r($resp, true), "\x65\162\162\x6f\162"); goto ZBLhV; b4Z29: if (!$tracking) { goto kO2Ja; } goto EOuqZ; V8IHs: $query = http_build_query($params); goto OtKYy; hJ15_: $tracking = get_transient("\x70\157\x6e\164\x5f\164\141\x63\153\x69\x6e\147\137" . $pn); goto b4Z29; K8mmW: $tracking = (object) ["\x64\141\x74\x65" => "\x46\162\151\x73\163\303\xad\x74\166\x65\x3a\40" . date("\131\x2d\155\55\x64\x20\110\x3a\151", current_time("\x74\151\155\145\163\x74\141\x6d\160")), "\x63\157\144\145" => 0, "\x63\141\x74\145\x67\x6f\x72\171" => '', "\145\x76\x65\x6e\164" => __("\116\151\x6e\143\163\40\x61\144\141\x74", "\x77\143\x2d\x70\157\x6e\x74"), "\154\x6f\x63\141\164\151\x6f\x6e" => '']; goto G8E0B; EOuqZ: $timeout = get_option("\x5f\x74\162\141\x6e\163\151\145\x6e\164\137\164\151\x6d\145\x6f\x75\x74\x5f" . "\x70\157\x6e\x74\137\164\141\143\153\x69\x6e\147\x5f" . $pn); goto WPmpF; UB1SE: if (!empty($status)) { goto FxV2M; } goto K8mmW; xinhG: WC_Pont::log("\120\x6f\163\x74\141\x20\164\x72\x61\143\x6b\x69\156\147\40\x64\x61\x74\x61\x20\142\x79\x20\x74\162\x61\x6e\x73\151\x65\x6e\164\56\x20\x54\x72\141\143\153\x69\156\x67\x20\156\x75\155\x62\x65\162\72\x20" . $pn . "\117\x72\x64\x65\x72\40\x69\x64\72\40" . $order_id . "\40\164\x69\155\145\72\x20" . $time, "\x69\156\146\157"); goto jzNYn; ZBLhV: return array(sprintf("\x3c\141\x20\x63\x6c\x61\x73\x73\x3d\x22\x70\157\163\x74\x61\x20\145\x72\162\x6f\x72\x22\x20\x74\x61\162\x67\x65\x74\75\x22\x5f\142\154\141\156\153\x22\40\164\x69\164\154\x65\75\42\x25\163\42\40\150\x72\x65\x66\x3d\42\45\x73\42\x20\76\45\163\x3c\x2f\141\x3e", __("\113\x61\x70\x63\163\x6f\x6c\303\xb3\144\303\xa1\x73\x69\x20\150\x69\142\x61", "\x77\143\55\160\x6f\x6e\164"), "\150\x74\x74\160\x73\x3a\57\x2f\x77\x77\x77\x2e\x70\157\x73\164\141\x2e\x68\x75\x2f\x6e\x79\157\x6d\x6b\157\x76\x65\164\145\x73\57\x6e\x79\x69\x74\157\157\154\x64\x61\x6c\x3f\163\145\x61\162\x63\150\166\x61\x6c\165\145\x3d" . $pn, __("\116\x69\156\143\163\x20\141\144\141\x74", "\167\143\x2d\160\x6f\x6e\x74"), __("\x4e\x69\x6e\x63\163\x20\x61\144\x61\x74", "\x77\x63\55\x70\x6f\156\164")), 0); goto yC6ke; Hy4Kp: return tracking_data_html($pn, $tracking, "\x50\157\163\164\141"); goto dSQfA; OtKYy: WC_Pont::log("\x50\x6f\x73\164\141\11\163\x65\156\164\40\x74\x72\x61\143\x6b\151\156\147\x20\161\165\x65\x72\x79\72\40" . json_encode($query, JSON_UNESCAPED_UNICODE), "\151\156\x66\157"); goto ocmZY; jzNYn: return tracking_data_html($pn, $tracking, "\x54\162\141\156"); goto RCokL; NRunL: set_transient("\x70\157\156\164\x5f\164\141\143\x6b\151\156\x67\137" . $pn, $tracking, 1 * HOUR_IN_SECONDS); goto xvxTS; qo3ZF: $csomag = new posta(); goto Lm_1m; USa8W: if (!(200 != $respcode)) { goto HEfBj; } goto NcPnw; RCokL: kO2Ja: goto qo3ZF; Lm_1m: $csomag->init(); goto lTacl; dSQfA: } goto OIGCU; rL4Yv: class shipments_table extends WP_List_Table { public $parcels = array(); public $pagination = 50; public function prepare_items() { goto O3oo4; g4jUs: $hidden = $this->get_hidden_columns(); goto m2foB; O3oo4: $columns = $this->get_columns(); goto g4jUs; wLZ3B: $data = array_slice($this->parcels, ($currentPage - 1) * $this->pagination, $this->pagination); goto aqbEA; AxZVs: usort($this->parcels, array(&$this, "\163\157\162\164\137\144\x61\164\x61")); goto TwKvl; TwKvl: $this->set_pagination_args(array("\x74\157\x74\x61\x6c\137\x69\164\x65\155\x73" => count($this->parcels), "\160\145\x72\x5f\x70\x61\147\145" => $this->pagination)); goto eZ8_8; fIVFs: $this->items = $data; goto jgb_Y; aqbEA: $this->_column_headers = array($columns, $hidden, $sortable); goto fIVFs; eZ8_8: $currentPage = $this->get_pagenum(); goto wLZ3B; m2foB: $sortable = $this->get_sortable_columns(); goto AxZVs; jgb_Y: } public function get_columns() { $columns = array("\x70\x6e" => __("\x52\141\x67\x73\x7a\xc3\xa1\x6d", "\167\143\x2d\160\157\156\164"), "\x64\x61\x74\145" => __("\x44\xc3\xa1\164\x75\155", "\167\143\55\x70\x6f\x6e\164"), "\157\x72\x64\145\162\137\151\144" => __("\x52\145\156\x64\x65\154\303\xa9\x73\40\x73\172\303\241\x6d\x61", "\167\143\55\160\157\156\164"), "\162\145\143\151\x70\x69\145\156\x74\137\x6e\141\x6d\x65" => __("\103\xc3\255\155\x7a\x65\x74\164", "\x77\143\x2d\160\157\156\x74"), "\x72\145\x63\x69\160\x69\x65\x6e\164\137\x63\157\156\x74\x61\143\164" => __("\x45\x6c\xc3\xa9\162\150\x65\x74\xc5\x91\x73\303\xa9\147", "\167\x63\55\160\x6f\x6e\164"), "\162\145\x63\151\x70\151\145\x6e\164\x5f\141\144\x64\162\145\163\x73" => __("\103\303\xad\x6d", "\167\143\x2d\x70\x6f\156\x74"), "\151\x74\x65\x6d\163" => __("\103\x73\x6f\x6d\141\147\x6f\153", "\x77\143\55\160\x6f\156\x74")); return $columns; } public function get_hidden_columns() { return array(); } public function get_sortable_columns() { return array("\164\151\164\x6c\145" => array("\x74\x69\164\154\145", false)); } public function column_default($item, $column_name) { goto I8kx1; I8kx1: switch ($column_name) { case "\160\x6e": case "\144\x61\164\x65": case "\x6f\162\x64\x65\x72\x5f\x69\144": case "\162\x65\x63\151\x70\x69\x65\x6e\x74\x5f\156\x61\x6d\145": case "\x72\x65\x63\x69\x70\x69\x65\156\x74\137\143\157\156\164\141\143\x74": case "\x72\x65\x63\151\x70\151\x65\156\164\137\x61\144\x64\162\145\x73\163": case "\x69\x74\x65\155\163": return $item[$column_name]; default: return print_r($item, true); } goto n7WzH; mmirf: iKBlC: goto BtMdY; n7WzH: RilmT: goto mmirf; BtMdY: } private function sort_data($a, $b) { goto T_voY; bhW1s: $order = "\x64\x65\x73\143"; goto tIFsn; tIFsn: if (empty($_GET["\x6f\162\x64\x65\162\x62\x79"])) { goto nm2qW; } goto NYa9T; NYa9T: $orderby = $_GET["\x6f\162\144\x65\162\x62\171"]; goto QNS5w; a5NyE: $order = $_GET["\157\x72\144\145\x72"]; goto wH5_2; uPpPe: if (!($order === "\141\x73\143")) { goto O_jHe; } goto Fnc21; T_voY: $orderby = "\144\x61\164\x65"; goto bhW1s; V8nOq: if (empty($_GET["\x6f\x72\x64\145\162"])) { goto SXPH_; } goto a5NyE; QNS5w: nm2qW: goto V8nOq; wH5_2: SXPH_: goto wAWY7; Fnc21: return $result; goto eClhi; eClhi: O_jHe: goto O85Tt; wAWY7: $result = strcmp($a[$orderby], $b[$orderby]); goto uPpPe; O85Tt: return -$result; goto a9SWL; a9SWL: } }
